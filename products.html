<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Products - Pakistan Agricultural Supply Chain Mapping</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&family=Open+Sans:wght@400;500;600&family=Nunito:wght@400;600;700&display=swap"
        rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/4.2.0/remixicon.min.css" rel="stylesheet">
    <link href="https://unpkg.com/tippy.js@6/dist/tippy.css" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com/3.4.6"></script>
    <script src="https://unpkg.com/@popperjs/core@2"></script>
    <script src="https://unpkg.com/tippy.js@6"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'olive-green': '#45552C',
                        'reseda-green': '#747545',
                        'fresh-green': '#6BBF59',
                        'burnt-orange': '#A65C2D',
                        'dun': '#DBC7B1',
                        'alabaster': '#EAE3DB',
                        'dark-grey': '#3D3D3D',
                        'dark-brown': '#5C4033'
                    },
                    fontFamily: {
                        'poppins': ['Poppins', 'sans-serif'],
                        'open-sans': ['Open Sans', 'sans-serif'],
                        'nunito': ['Nunito', 'sans-serif']
                    },
                    borderRadius: {
                        'none': '0px',
                        'sm': '4px',
                        DEFAULT: '8px',
                        'md': '12px',
                        'lg': '16px',
                        'xl': '20px',
                        '2xl': '24px',
                        '3xl': '32px',
                        'full': '9999px',
                        'button': '8px'
                    }
                }
            }
        }
    </script>
    <style>
        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }

        .product-grid {
            display: grid;
            grid-template-columns: repeat(5, minmax(0, 1fr));
            gap: 1.5rem;
        }

        @media (max-width: 1024px) {
            .product-grid {
                grid-template-columns: repeat(3, minmax(0, 1fr));
            }
        }

        @media (max-width: 640px) {
            .product-grid {
                grid-template-columns: repeat(2, minmax(0, 1fr));
            }
        }

        /* Supply Chain Styles */
        .supply-chain-container {
            position: relative;
            width: 100%;
            max-width: 1200px;
            height: 600px;
            margin: 0 auto;
            overflow: visible;
        }

        .stage-node {
            position: absolute;
            width: 180px;
            text-align: center;
            transition: transform 0.3s ease;
            z-index: 5;
        }

        .stage-node:hover {
            transform: scale(1.05);
            z-index: 10;
        }

        .stage-icon {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            margin: 0 auto 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            position: relative;
        }

        .stage-number {
            position: absolute;
            top: -10px;
            right: -10px;
            width: 24px;
            height: 24px;
            border: 2px solid white;
            border-radius: 50%;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 14px;
            font-family: 'Nunito', sans-serif;
        }

        /* .warning-icon {
            position: absolute;
            top: -10px;
            left: -10px;
            width: 24px;
            height: 24px;
            background-color: #A65C2D;
            border: 2px solid white;
            border-radius: 50%;
            color: white;
            display: none;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            cursor: pointer;
        } */

        .stage-title {
            color: white;
            padding: 5px 10px;
            border-radius: 15px;
            font-weight: bold;
            display: inline-block;
            margin-bottom: 5px;
            width: 160px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            font-family: 'Nunito', sans-serif;
        }

        .stage-description {
            font-size: 12px;
            max-width: 160px;
            margin: 0 auto;
            font-family: 'Open Sans', sans-serif;
            line-height: 1.5;
        }

        /* === BASE TOOLTIP STYLES === */
        .stage-tooltip {
            visibility: hidden;
            position: absolute;
            border-radius: 8px;
            padding: 12px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            overflow-y: auto;
            z-index: 100;
            opacity: 0;
            transition: opacity 0.3s;
            text-align: left;
        }

        /* === NORMAL TOOLTIP STYLES === */
        .tooltip {
            background-color: white;
            border: 1px solid #DBC7B1;
            color: #3D3D3D;
            font-family: 'Open Sans', sans-serif;
            width: 500px;
            height: 300px;
        }

        .tooltip-title {
            font-weight: bold;
            margin-bottom: 5px;
            font-size: 14px;
            font-family: 'Poppins', sans-serif;
            color: #3D3D3D;
        }

        .tooltip-content {
            font-size: 12px;
            color: #3D3D3D;
            line-height: 1.6;
        }

        .tooltip-stats {
            margin-top: 8px;
            padding-top: 8px;
            border-top: 1px dashed #DBC7B1;
            font-size: 11px;
            color: #646441;
        }

        /* === BOTTLENECK TOOLTIP STYLES === */
        .bottleneck-tooltip {
            background-color: #fafafa;
            border: 1px solid #cc5500;
            color: #c50;
            font-family: 'Open Sans', sans-serif;
            width: 240px;
            height: 240px;
        }

        .bottleneck-title {
            font-weight: bold;
            margin-bottom: 8px;
            font-size: 14px;
            font-family: 'Poppins', sans-serif;
            color: #cc5500;
        }

        .bottleneck-content {
            font-size: 12px;
            color: #cc5500;
            line-height: 1.6;
        }

        /* === QUOTE TOOLTIP STYLES === */
        .quote-tooltip {
            background-color: #fafafa;
            border: 1px solid #cc5500;
            color: #cc5500;
            font-family: 'Open Sans', sans-serif;
            width: 240px;
            height: 240px;
        }

        .quote-title {
            font-weight: bold;
            margin-bottom: 8px;
            font-size: 14px;
            font-family: 'Poppins', sans-serif;
            color: #cc5500;
        }

        .quote-content {
            font-size: 12px;
            color: #cc5500;
            line-height: 1.6;
            font-style: italic;
        }

        .stage-node:hover .stage-tooltip {
            visibility: visible;
            opacity: 1;
        }

        .toggle-button {
            background-color: white;
            color: #45552C;
            padding: 8px 16px;
            border-radius: 6px;
            font-weight: bold;
            cursor: pointer;
            transition: background-color 0.3s;
            border: 1px solid #45552C;
            font-size: 14px;
            font-family: 'Nunito', sans-serif;
            margin-right: 10px;
        }

        .toggle-button:hover {
            background-color: #EAE3DB;
        }

        .toggle-button.active {
            background-color: #EAE3DB;
            color: #45552C;
            border: 1px solid #EAE3DB;
        }

        .toggle-button.active:hover {
            background-color: #EAE3DB;
            border: 1px solid #EAE3DB;
        }

        /* Scrollbar Styles for All Tooltips */
        .stage-tooltip::-webkit-scrollbar {
            width: 6px;
        }

        .stage-tooltip::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 4px;
        }

        .stage-tooltip::-webkit-scrollbar-thumb {
            background: #c1c1c191;
            border-radius: 4px;
        }

        .stage-tooltip::-webkit-scrollbar-thumb:hover {
            background: #a0a0a0;
        }


        /* Modal specific adjustments */
        .supply-chain-modal {
            transform: scale(0.85);
            transform-origin: center top;
        }

        /* Responsive adjustments for supply chain */
        @media (max-width: 1200px) {
            .supply-chain-modal {
                transform: scale(0.75);
            }
        }

        @media (max-width: 992px) {
            .supply-chain-modal {
                transform: scale(0.65);
            }
        }

        @media (max-width: 768px) {
            .supply-chain-modal {
                transform: scale(0.55);
            }

            .tooltip,
            .bottleneck-tooltip {
                width: 200px;
            }
        }

        @media (max-width: 576px) {
            .supply-chain-modal {
                transform: scale(0.45);
            }
        }
    </style>
</head>

<body class="bg-alabaster font-open-sans text-dark-grey">
    <header class="bg-white shadow-sm sticky top-0 z-50">
        <div class="container mx-auto px-4 py-3 flex items-center justify-between">
            <div class="flex items-center space-x-3">
                <div class="w-12 h-12 flex items-center justify-center bg-olive-green rounded-full text-white relative">
                    <i class="ri-plant-line ri-lg"></i>
                    <div
                        class="absolute -bottom-1 -right-1 w-6 h-6 bg-fresh-green rounded-full flex items-center justify-center">
                        <div class="w-3 h-3 bg-white rounded-full"></div>
                    </div>
                </div>
                <div>
                    <h1 class="text-xl font-bold text-olive-green font-poppins">AGRI SUPPLY CHAIN</h1>
                    <p class="text-xs text-reseda-green font-nunito">Cultivating Knowledge</p>
                </div>
            </div>
            <nav class="hidden md:flex items-center space-x-8">
                <a href="index.html"
                    class="text-reseda-green hover:text-olive-green transition-colors font-nunito">Home</a>
                <a href="products.html" class="text-olive-green font-medium font-nunito">Products</a>
                <a href="maps.html"
                    class="text-reseda-green hover:text-olive-green transition-colors font-nunito">Maps</a>
                <a href="about.html"
                    class="text-reseda-green hover:text-olive-green transition-colors font-nunito">About</a>
            </nav>
            <div class="flex items-center space-x-4">
                <!-- <div class="relative ml-4">
                    <input type="text" placeholder="Search products..."
                        class="pl-10 pr-4 py-2 w-48 border border-dun rounded-button text-sm focus:outline-none focus:ring-2 focus:ring-olive-green/20 focus:border-olive-green bg-white font-nunito">
                    <div
                        class="absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 flex items-center justify-center text-reseda-green">
                        <i class="ri-search-line"></i>
                    </div>
                </div> -->
                <div class="w-10 h-10 flex items-center justify-center md:hidden cursor-pointer">
                    <i class="ri-menu-line ri-lg text-olive-green"></i>
                </div>
            </div>
        </div>
    </header>

    <section class="py-12 bg-white">
        <div class="container mx-auto px-4">
            <div class="text-center mb-10">
                <h2 class="text-3xl font-bold text-olive-green mb-4 font-poppins">Agricultural Products</h2>
                <p class="text-sm text-reseda-green max-w-2xl mx-auto font-open-sans leading-relaxed">Discover detailed
                    supply chain insights for Pakistan’s key agricultural products — from farm production zones to
                    national and regional market networks</p>
            </div>
            <div class="flex justify-center flex-wrap mb-8" id="category-buttons">
                <button data-category="all"
                    class="category-button m-1 px-4 py-2 bg-olive-green text-white rounded-full text-sm hover:bg-olive-green hover:text-white transition-colors !rounded-button whitespace-nowrap font-nunito">All
                    Products</button>
                <button data-category="grains"
                    class="category-button m-1 px-4 py-2 bg-dun text-reseda-green rounded-full text-sm hover:bg-olive-green hover:text-white transition-colors !rounded-button whitespace-nowrap font-nunito">Grains</button>
                <button data-category="fruits"
                    class="category-button m-1 px-4 py-2 bg-dun text-reseda-green rounded-full text-sm hover:bg-olive-green hover:text-white transition-colors !rounded-button whitespace-nowrap font-nunito">Fruits</button>
                <button data-category="vegetables"
                    class="category-button m-1 px-4 py-2 bg-dun text-reseda-green rounded-full text-sm hover:bg-olive-green hover:text-white transition-colors !rounded-button whitespace-nowrap font-nunito">Vegetables</button>
                <button data-category="dairy"
                    class="category-button m-1 px-4 py-2 bg-dun text-reseda-green rounded-full text-sm hover:bg-olive-green hover:text-white transition-colors !rounded-button whitespace-nowrap font-nunito">Dairy</button>
                <button data-category="others"
                    class="category-button m-1 px-4 py-2 bg-dun text-reseda-green rounded-full text-sm hover:bg-olive-green hover:text-white transition-colors !rounded-button whitespace-nowrap font-nunito">Others</button>
            </div>
            <div id="product-grid" class="product-grid">
                <!-- Product 1: Wheat -->
                <div class="product-card bg-alabaster rounded shadow-md overflow-hidden transition-all duration-300 border border-dun"
                    data-category="grains">
                    <div class="h-40 bg-gray-100 relative">
                        <img src="https://cdn.pixabay.com/photo/2023/07/30/07/23/soft-wheat-8158264_1280.jpg"
                            alt="Wheat" class="w-full h-full object-cover object-top">
                    </div>
                    <div class="p-4">
                        <h3 class="font-bold text-olive-green mb-1 font-poppins">Wheat</h3>
                        <p class="text-reseda-green text-sm mb-3 font-open-sans">Primary grain crop with nationwide
                            cultivation</p>
                        <div class="flex justify-between items-center">
                            <span class="text-xs text-dark-grey font-nunito">Production: 25.2M tons</span>
                            <button onclick="showSupplyChainView(this)" data-product="Wheat"
                                class="text-olive-green hover:text-reseda-green transition-colors text-sm font-medium !rounded-button whitespace-nowrap font-nunito">View
                                Map</button>
                        </div>
                    </div>
                </div>
                <!-- Product 2: Rice -->
                <div class="product-card bg-alabaster rounded shadow-md overflow-hidden transition-all duration-300 border border-dun"
                    data-category="grains">
                    <div class="h-40 bg-gray-100 relative">
                        <img src="https://cdn.pixabay.com/photo/2016/08/15/06/35/rice-1594612_1280.jpg" alt="Rice"
                            class="w-full h-full object-cover object-top">
                    </div>
                    <div class="p-4">
                        <h3 class="font-bold text-olive-green mb-1 font-poppins">Rice</h3>
                        <p class="text-reseda-green text-sm mb-3 font-open-sans">Key export crop grown in irrigated
                            areas</p>
                        <div class="flex justify-between items-center">
                            <span class="text-xs text-dark-grey font-nunito">Production: 8.4M tons</span>
                            <button onclick="showSupplyChainView(this)" data-product="Rice"
                                class="text-olive-green hover:text-reseda-green transition-colors text-sm font-medium !rounded-button whitespace-nowrap font-nunito">View
                                Map</button>
                        </div>
                    </div>
                </div>
                <!-- Product 3: Sugarcane -->
                <div class="product-card bg-alabaster rounded shadow-md overflow-hidden transition-all duration-300 border border-dun"
                    data-category="others">
                    <div class="h-40 bg-gray-100 relative">
                        <img src="https://cdn.pixabay.com/photo/2020/07/09/20/00/sugarcane-5388614_1280.jpg"
                            alt="Sugarcane" class="w-full h-full object-cover object-top">
                    </div>
                    <div class="p-4">
                        <h3 class="font-bold text-olive-green mb-1 font-poppins">Sugarcane</h3>
                        <p class="text-reseda-green text-sm mb-3 font-open-sans">Cash crop for sugar production</p>
                        <div class="flex justify-between items-center">
                            <span class="text-xs text-dark-grey font-nunito">Production: 75.5M tons</span>
                            <button onclick="showSupplyChainView(this)" data-product="Sugarcane"
                                class="text-olive-green hover:text-reseda-green transition-colors text-sm font-medium !rounded-button whitespace-nowrap font-nunito">View
                                Map</button>
                        </div>
                    </div>
                </div>
                <!-- Product 4: Chili -->
                <div class="product-card bg-alabaster rounded shadow-md overflow-hidden transition-all duration-300 border border-dun"
                    data-category="vegetables">
                    <div class="h-40 bg-gray-100 relative">
                        <img src="https://cdn.pixabay.com/photo/2019/06/25/18/53/pepperoni-4298825_1280.jpg" alt="Chili"
                            class="w-full h-full object-cover object-top">
                    </div>
                    <div class="p-4">
                        <h3 class="font-bold text-olive-green mb-1 font-poppins">Chili</h3>
                        <p class="text-reseda-green text-sm mb-3 font-open-sans">Spice crop with export potential</p>
                        <div class="flex justify-between items-center">
                            <span class="text-xs text-dark-grey font-nunito">Production: 145K tons</span>
                            <button onclick="showSupplyChainView(this)" data-product="Chili"
                                class="text-olive-green hover:text-reseda-green transition-colors text-sm font-medium !rounded-button whitespace-nowrap font-nunito">View
                                Map</button>
                        </div>
                    </div>
                </div>
                <!-- Product 5: Garlic -->
                <div class="product-card bg-alabaster rounded shadow-md overflow-hidden transition-all duration-300 border border-dun"
                    data-category="vegetables">
                    <div class="h-40 bg-gray-100 relative">
                        <img src="https://cdn.pixabay.com/photo/2017/02/25/13/24/garlic-2097759_1280.jpg" alt="Garlic"
                            class="w-full h-full object-cover object-top">
                    </div>
                    <div class="p-4">
                        <h3 class="font-bold text-olive-green mb-1 font-poppins">Garlic</h3>
                        <p class="text-reseda-green text-sm mb-3 font-open-sans">Essential spice crop with domestic and
                            export demand</p>
                        <div class="flex justify-between items-center">
                            <span class="text-xs text-dark-grey font-nunito">Production: 150K tons</span>
                            <button onclick="showSupplyChainView(this)" data-product="Garlic"
                                class="text-olive-green hover:text-reseda-green transition-colors text-sm font-medium !rounded-button whitespace-nowrap font-nunito">View
                                Map</button>
                        </div>
                    </div>
                </div>
                <!-- Product 6: Potato -->
                <div class="product-card bg-alabaster rounded shadow-md overflow-hidden transition-all duration-300 border border-dun"
                    data-category="vegetables">
                    <div class="h-40 bg-gray-100 relative">
                        <img src="https://cdn.pixabay.com/photo/2018/05/25/15/40/potato-3429379_1280.jpg" alt="Potato"
                            class="w-full h-full object-cover object-top">
                    </div>
                    <div class="p-4">
                        <h3 class="font-bold text-olive-green mb-1 font-poppins">Potato</h3>
                        <p class="text-reseda-green text-sm mb-3 font-open-sans">Major vegetable crop with nationwide
                            demand</p>
                        <div class="flex justify-between items-center">
                            <span class="text-xs text-dark-grey font-nunito">Production: 4.6M tons</span>
                            <button onclick="showSupplyChainView(this)" data-product="Potato"
                                class="text-olive-green hover:text-reseda-green transition-colors text-sm font-medium !rounded-button whitespace-nowrap font-nunito">View
                                Map</button>
                        </div>
                    </div>
                </div>
                <!-- Product 7: Tomato -->
                <div class="product-card bg-alabaster rounded shadow-md overflow-hidden transition-all duration-300 border border-dun"
                    data-category="fruits">
                    <div class="h-40 bg-gray-100 relative">
                        <img src="https://cdn.pixabay.com/photo/2022/09/05/09/50/tomatoes-7433786_1280.jpg" alt="Tomato"
                            class="w-full h-full object-cover object-top">
                    </div>
                    <div class="p-4">
                        <h3 class="font-bold text-olive-green mb-1 font-poppins">Tomato</h3>
                        <p class="text-reseda-green text-sm mb-3 font-open-sans">High-value vegetable with processing
                            potential</p>
                        <div class="flex justify-between items-center">
                            <span class="text-xs text-dark-grey font-nunito">Production: 575K tons</span>
                            <button onclick="showSupplyChainView(this)" data-product="Tomato"
                                class="text-olive-green hover:text-reseda-green transition-colors text-sm font-medium !rounded-button whitespace-nowrap font-nunito">View
                                Map</button>
                        </div>
                    </div>
                </div>
                <!-- Product 8: Mango -->
                <div class="product-card bg-alabaster rounded shadow-md overflow-hidden transition-all duration-300 border border-dun"
                    data-category="fruits">
                    <div class="h-40 bg-gray-100 relative">
                        <img src="https://cdn.pixabay.com/photo/2020/04/01/18/27/yellow-4992183_1280.jpg" alt="Mango"
                            class="w-full h-full object-cover object-top">
                    </div>
                    <div class="p-4">
                        <h3 class="font-bold text-olive-green mb-1 font-poppins">Mango</h3>
                        <p class="text-reseda-green text-sm mb-3 font-open-sans">Premium fruit with global demand</p>
                        <div class="flex justify-between items-center">
                            <span class="text-xs text-dark-grey font-nunito">Production: 1.9M tons</span>
                            <button onclick="showSupplyChainView(this)" data-product="Mango"
                                class="text-olive-green hover:text-reseda-green transition-colors text-sm font-medium !rounded-button whitespace-nowrap font-nunito">View
                                Map</button>
                        </div>
                    </div>
                </div>
                <!-- Product 9: Apple -->
                <div class="product-card bg-alabaster rounded shadow-md overflow-hidden transition-all duration-300 border border-dun"
                    data-category="fruits">
                    <div class="h-40 bg-gray-100 relative">
                        <img src="https://cdn.pixabay.com/photo/2019/03/14/21/15/apple-4055926_1280.jpg" alt="Apple"
                            class="w-full h-full object-cover object-top">
                    </div>
                    <div class="p-4">
                        <h3 class="font-bold text-olive-green mb-1 font-poppins">Apple</h3>
                        <p class="text-reseda-green text-sm mb-3 font-open-sans">High-value fruit from northern areas
                        </p>
                        <div class="flex justify-between items-center">
                            <span class="text-xs text-dark-grey font-nunito">Production: 600K tons</span>
                            <button onclick="showSupplyChainView(this)" data-product="Apple"
                                class="text-olive-green hover:text-reseda-green transition-colors text-sm font-medium !rounded-button whitespace-nowrap font-nunito">View
                                Map</button>
                        </div>
                    </div>
                </div>
                <!-- Product 10: Orange -->
                <div class="product-card bg-alabaster rounded shadow-md overflow-hidden transition-all duration-300 border border-dun"
                    data-category="fruits">
                    <div class="h-40 bg-gray-100 relative">
                        <img src="https://cdn.pixabay.com/photo/2016/01/02/02/03/orange-1117645_1280.jpg" alt="Orange"
                            class="w-full h-full object-cover object-top">
                    </div>
                    <div class="p-4">
                        <h3 class="font-bold text-olive-green mb-1 font-poppins">Orange</h3>
                        <p class="text-reseda-green text-sm mb-3 font-open-sans">Citrus fruit with domestic and export
                            markets</p>
                        <div class="flex justify-between items-center">
                            <span class="text-xs text-dark-grey font-nunito">Production: 1.6M tons</span>
                            <button onclick="showSupplyChainView(this)" data-product="Orange"
                                class="text-olive-green hover:text-reseda-green transition-colors text-sm font-medium !rounded-button whitespace-nowrap font-nunito">View
                                Map</button>
                        </div>
                    </div>
                </div>
                <!-- Product 11: Lentils -->
                <div class="product-card bg-alabaster rounded shadow-md overflow-hidden transition-all duration-300 border border-dun"
                    data-category="others">
                    <div class="h-40 bg-gray-100 relative">
                        <img src="https://cdn.pixabay.com/photo/2023/02/06/17/34/lentils-7772450_1280.jpg" alt="Lentils"
                            class="w-full h-full object-cover object-top">
                    </div>
                    <div class="p-4">
                        <h3 class="font-bold text-olive-green mb-1 font-poppins">Lentils</h3>
                        <p class="text-reseda-green text-sm mb-3 font-open-sans">Key pulse crop with nutritional value
                        </p>
                        <div class="flex justify-between items-center">
                            <span class="text-xs text-dark-grey font-nunito">Production: 300K tons</span>
                            <button onclick="showSupplyChainView(this)" data-product="Lentils"
                                class="text-olive-green hover:text-reseda-green transition-colors text-sm font-medium !rounded-button whitespace-nowrap font-nunito">View
                                Map</button>
                        </div>
                    </div>
                </div>
                <!-- Product 12: Maize -->
                <div class="product-card bg-alabaster rounded shadow-md overflow-hidden transition-all duration-300 border border-dun"
                    data-category="grains">
                    <div class="h-40 bg-gray-100 relative">
                        <img src="https://cdn.pixabay.com/photo/2020/03/30/21/18/corn-4985460_1280.jpg" alt="Maize"
                            class="w-full h-full object-cover object-top">
                    </div>
                    <div class="p-4">
                        <h3 class="font-bold text-olive-green mb-1 font-poppins">Maize</h3>
                        <p class="text-reseda-green text-sm mb-3 font-open-sans">Important feed and grain</p>
                        <div class="flex justify-between items-center">
                            <span class="text-xs text-dark-grey font-nunito">Production: 6M tons</span>
                            <button onclick="showSupplyChainView(this)" data-product="Maize"
                                class="text-olive-green hover:text-reseda-green transition-colors text-sm font-medium !rounded-button whitespace-nowrap font-nunito">View
                                Map</button>
                        </div>
                    </div>
                </div>
                <!-- Product 13: Milk -->
                <div class="product-card bg-alabaster rounded shadow-md overflow-hidden transition-all duration-300 border border-dun"
                    data-category="dairy">
                    <div class="h-40 bg-gray-100 relative">
                        <img src="https://cdn.pixabay.com/photo/2017/01/18/15/23/milk-can-1990072_1280.jpg" alt="Milk"
                            class="w-full h-full object-cover object-top">
                    </div>
                    <div class="p-4">
                        <h3 class="font-bold text-olive-green mb-1 font-poppins">Milk</h3>
                        <p class="text-reseda-green text-sm mb-3 font-open-sans">Major dairy product with widespread
                            production</p>
                        <div class="flex justify-between items-center">
                            <span class="text-xs text-dark-grey font-nunito">Production: 40M tons</span>
                            <button onclick="showSupplyChainView(this)" data-product="Milk"
                                class="text-olive-green hover:text-reseda-green transition-colors text-sm font-medium !rounded-button whitespace-nowrap font-nunito">View
                                Map</button>
                        </div>
                    </div>
                </div>
                <!-- Product 14: Mustard -->
                <div class="product-card bg-alabaster rounded shadow-md overflow-hidden transition-all duration-300 border border-dun"
                    data-category="others">
                    <div class="h-40 bg-gray-100 relative">
                        <img src="https://cdn.pixabay.com/photo/2019/10/22/13/27/autumn-4568733_1280.jpg" alt="Mustard"
                            class="w-full h-full object-cover object-top">
                    </div>
                    <div class="p-4">
                        <h3 class="font-bold text-olive-green mb-1 font-poppins">Mustard</h3>
                        <p class="text-reseda-green text-sm mb-3 font-open-sans">Oilseed crop for edible oil production
                        </p>
                        <div class="flex justify-between items-center">
                            <span class="text-xs text-dark-grey font-nunito">Production: 200K tons</span>
                            <button onclick="showSupplyChainView(this)" data-product="Mustard"
                                class="text-olive-green hover:text-reseda-green transition-colors text-sm font-medium !rounded-button whitespace-nowrap font-nunito">View
                                Map</button>
                        </div>
                    </div>
                </div>
                <!-- Product 15: Banana -->
                <div class="product-card bg-alabaster rounded shadow-md overflow-hidden transition-all duration-300 border border-dun"
                    data-category="fruits">
                    <div class="h-40 bg-gray-100 relative">
                        <img src="https://cdn.pixabay.com/photo/2014/04/16/09/58/banana-325461_1280.jpg" alt="Banana"
                            class="w-full h-full object-cover object-top">
                    </div>
                    <div class="p-4">
                        <h3 class="font-bold text-olive-green mb-1 font-poppins">Banana</h3>
                        <p class="text-reseda-green text-sm mb-3 font-open-sans">Popular fruit with domestic demand</p>
                        <div class="flex justify-between items-center">
                            <span class="text-xs text-dark-grey font-nunito">Production: 150K tons</span>
                            <button onclick="showSupplyChainView(this)" data-product="Banana"
                                class="text-olive-green hover:text-reseda-green transition-colors text-sm font-medium !rounded-button whitespace-nowrap font-nunito">View
                                Map</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <div id="supplyChainModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 overflow-y-auto">
        <div class="min-h-screen px-4 text-center">
            <div
                class="inline-block w-full max-w-[95vw] h-[95vh] my-4 text-left align-middle bg-white rounded shadow-xl transform transition-all border border-dun">
                <div class="relative h-full flex flex-col">
                    <div class="flex items-center justify-between p-4 border-b bg-alabaster flex-shrink-0">
                        <h3 class="text-2xl font-bold text-olive-green font-poppins" id="modalTitle">Supply Chain Map
                        </h3>
                        <button onclick="closeSupplyChainView()" class="text-reseda-green hover:text-olive-green">
                            <div class="w-8 h-8 flex items-center justify-center">
                                <i class="ri-close-line ri-2x"></i>
                            </div>
                        </button>
                    </div>
                    <div class="flex-1 p-6 overflow-y-auto">
                        <div class="supply-chain-modal">
                            <div class="relative mb-6">
                                <button id="toggleBottlenecks" class="toggle-button">Show Bottlenecks</button>
                                <button id="toggleQuotes" class="toggle-button">Show Quotes</button>
                            </div>
                            <div id="supplyChainContainer" class="supply-chain-container">
                                <!-- Supply chain content will be dynamically generated here -->
                            </div>

                            <div id="productOverview" class="bg-white p-6 rounded-lg shadow-lg border border-dun mt-32">
                                <!-- Product overview will be dynamically generated here -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script id="mobile-menu-toggle">
        document.addEventListener('DOMContentLoaded', function () {
            const menuButton = document.querySelector('.ri-menu-line').parentNode;
            const mobileMenu = document.createElement('div');
            mobileMenu.className = 'fixed inset-0 bg-gray-800 bg-opacity-50 z-50 hidden';
            mobileMenu.innerHTML = `
                <div class="bg-white h-full w-64 shadow-xl transform transition-transform p-6">
                    <div class="flex justify-between items-center mb-8">
                        <h3 class="font-bold text-xl text-olive-green font-poppins">Menu</h3>
                        <div class="w-8 h-8 flex items-center justify-center cursor-pointer close-menu">
                            <i class="ri-close-line ri-lg text-olive-green"></i>
                        </div>
                    </div>
                    <nav class="space-y-4">
                        <a href="index.html" class="block py-2 text-reseda-green font-nunito">Home</a>
                        <a href="products.html" class="block py-2 text-olive-green font-medium font-nunito">Products</a>
                        <a href="maps.html" class="block py-2 text-reseda-green font-nunito">Maps</a>
                        <a href="about.html" class="block py-2 text-reseda-green font-nunito">About</a>
                    </nav>
                </div>
            `;
            document.body.appendChild(mobileMenu);
            menuButton.addEventListener('click', function () {
                mobileMenu.classList.remove('hidden');
                mobileMenu.querySelector('div').classList.add('translate-x-0');
                mobileMenu.querySelector('div').classList.remove('-translate-x-full');
            });
            mobileMenu.querySelector('.close-menu').addEventListener('click', function () {
                mobileMenu.classList.add('hidden');
                mobileMenu.querySelector('div').classList.remove('translate-x-0');
                mobileMenu.querySelector('div').classList.add('-translate-x-full');
            });
        });
    </script>

    <script id="supply-chain-data">
        // Complete supply chain data for all 15 products

        // Product color schemes - each product gets unique background, icon border, and tooltip colors
        const productColors = {
            'Wheat': {
                background: '#FFF5E1', // ICON BACKGROUND
                iconBorder: '#D4A574',
                titleBackground: '#A0522D',  // STAGE BACKGROUND
                tooltipBackground: '#FFE6B3',
                tooltipText: '#3B2F2F',
                stageIconBg: '#A0522D',     // STAGE NUMBER BACKGROUND

            },
            'Rice': {
                background: '#F9FBE7',
                iconBorder: '#C0CA33',
                titleBackground: '#827717',
                tooltipBackground: '#E6EE9C',
                tooltipText: '#2E2E2E',
                stageIconBg: '#A0522D',
            },
            'Sugarcane': {
                background: '#E8F5E9',
                iconBorder: '#66BB6A',
                titleBackground: '#2E7D32',
                tooltipBackground: '#C8E6C9',
                tooltipText: '#1B1B1B',
                stageIconBg: '#A0522D',
            },
            'Chili': {
                background: '#FFEBEE',
                iconBorder: '#EF5350',
                titleBackground: '#C62828',
                tooltipBackground: '#FFCDD2',
                tooltipText: '#2E2E2E',
                stageIconBg: '#C62828',

            },
            'Garlic': {
                background: '#FDFCF7',
                iconBorder: '#C0C0C0',
                titleBackground: '#8D6E63',
                tooltipBackground: '#E0DAD0',
                tooltipText: '#2E2E2E',
                stageIconBg: '#A0522D',

            },
            'Potato': {
                background: '#FBE9E7',
                iconBorder: '#A1887F',
                titleBackground: '#6D4C41',
                tooltipBackground: '#EFEBE9',
                tooltipText: '#2E2E2E',
                stageIconBg: '#A0522D',

            },
            'Tomato': {
                background: '#FFF3E0',
                iconBorder: '#FF7043',
                titleBackground: '#E64A19',
                tooltipBackground: '#FFE0B2',
                tooltipText: '#2E2E2E',
                stageIconBg: '#A0522D',

            },
            'Mango': {
                background: '#FFF8E1',
                iconBorder: '#FFD54F',
                titleBackground: '#FFA000',
                tooltipBackground: '#FFECB3',
                tooltipText: '#2E2E2E',
                stageIconBg: '#A0522D',

            },
            'Apple': {
                background: '#F9FBE7',
                titleBackground: '#689F38',
                tooltipBackground: '#F9FBE7',
                tooltipText: '#1B1B1B',
                stageIconBg: ' #689F38',

            },
            'Orange': {
                background: '#FFF3E0',
                iconBorder: '#FFB74D',
                titleBackground: '#FB8C00',
                tooltipBackground: '#FFE0B2',
                tooltipText: '#2E2E2E',
                stageIconBg: '#A0522D',

            },
            'Lentils': {
                background: '#FBE9E7',
                iconBorder: '#A1887F',
                titleBackground: '#5D4037',
                tooltipBackground: '#EFEBE9',
                tooltipText: '#2E2E2E',
                stageIconBg: '#A0522D',

            },
            'Maize': {
                background: '#FFFDE7',
                iconBorder: '#FFEE58',
                titleBackground: '#FBC02D',
                tooltipBackground: '#FFF59D',
                tooltipText: '#2E2E2E',
                stageIconBg: '#A0522D',

            },
            'Milk': {
                background: '#F0F4C3',
                iconBorder: '#AED581',
                titleBackground: '#689F38',
                tooltipBackground: '#DCE775',
                tooltipText: '#2E2E2E',
                stageIconBg: '#A0522D',

            },
            'Mustard': {
                background: '#FFF9C4',
                iconBorder: '#FDD835',
                titleBackground: '#FBC02D',
                tooltipBackground: '#FFF59D',
                tooltipText: '#2E2E2E',
                stageIconBg: '#A0522D',

            },
            'Banana': {
                background: '#FFFDE7',
                iconBorder: '#FFEE58',
                titleBackground: '#FBC02D',
                tooltipBackground: '#FFF9C4',
                tooltipText: '#2E2E2E',
                stageIconBg: '#A0522D',

            }
        };


        // Complete supply chain data for all 15 products
        const supplyChainData = {
            'Rice': {
                stages: [
                    {
                        title: 'Seed Selection',
                        description: 'Choosing high-quality rice seeds, fertilizers, and pesticides',
                        icon: 'M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z',
                        position: { top: 50, left: 100 },
                        tooltip: {
                            title: 'Rice Seed Selection Details',
                            content: 'Premium rice varieties are selected based on regional climate conditions and market demand. Certified seeds undergo rigorous quality testing with germination rates exceeding 95%. Organic fertilizers are increasingly preferred.',
                            stats: [
                                'Seed Selection Time: 4-6 weeks',
                                'Quality Testing: 12-point verification',
                                'Top Varieties: Basmati, Jasmine, Arborio',
                                'Germination Rate: 95%+'
                            ]
                        },
                        bottleneck: 'Seed quality inconsistency, climate change impact, varying pesticide regulations'
                    },
                    {
                        title: 'Land Preparation',
                        description: 'Field preparation, leveling, and water management setup',
                        icon: 'M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z',
                        position: { top: 50, left: 300 },
                        tooltip: {
                            title: 'Land Preparation Details',
                            content: 'Proper field leveling ensures uniform water distribution. Puddling creates impermeable layer for water retention. Organic matter incorporation improves soil fertility.',
                            stats: [
                                'Field Leveling: Critical for water management',
                                'Puddling Depth: 15-20 cm',
                                'Water Requirement: 1200-1500 mm',
                                'Organic Matter: 5-10 tons/hectare'
                            ]
                        },
                        bottleneck: 'Water scarcity, labor shortages for field preparation, equipment availability'
                    },
                    {
                        title: 'Transplanting',
                        description: 'Moving seedlings from nursery to main field',
                        icon: 'M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10',
                        position: { top: 50, left: 500 },
                        tooltip: {
                            title: 'Transplanting Details',
                            content: 'Seedlings are transplanted at 20-25 days old. Proper spacing ensures optimal plant population. Mechanical transplanters increase efficiency.',
                            stats: [
                                'Seedling Age: 20-25 days',
                                'Plant Spacing: 20cm x 15cm',
                                'Plants per hectare: 330,000-400,000',
                                'Transplanting Window: 15-20 days'
                            ]
                        },
                        bottleneck: 'Labor intensive process, weather dependency, seedling quality'
                    },
                    {
                        title: 'Crop Management',
                        description: 'Water management, fertilization, and pest control',
                        icon: 'M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z',
                        position: { top: 50, left: 700 },
                        tooltip: {
                            title: 'Crop Management Details',
                            content: 'Continuous flooding maintains anaerobic conditions. Integrated nutrient management optimizes fertilizer use. IPM controls major pests like stem borers.',
                            stats: [
                                'Water Depth: 5-10 cm maintained',
                                'Growing Period: 120-150 days',
                                'Fertilizer Applications: 3-4 splits',
                                'Major Pests: Stem borer, brown planthopper'
                            ]
                        },
                        bottleneck: 'Water management challenges, pest resistance, nutrient imbalances'
                    },
                    {
                        title: 'Harvesting',
                        description: 'Cutting mature rice crop at optimal moisture',
                        icon: 'M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4',
                        position: { top: 180, left: 850 },
                        tooltip: {
                            title: 'Harvesting Details',
                            content: 'Harvest timing is critical when 80% of grains are golden yellow. Combine harvesters reduce labor costs. Proper moisture content prevents quality loss.',
                            stats: [
                                'Harvest Indicator: 80% golden grains',
                                'Moisture Content: 20-25%',
                                'Yield: 4-8 tons/hectare',
                                'Harvest Window: 10-15 days'
                            ]
                        },
                        bottleneck: 'Weather dependency, equipment availability, labor shortages'
                    },
                    {
                        title: 'Drying',
                        description: 'Reducing moisture content for safe storage',
                        icon: 'M7 11.5V14m0-2.5v-6a1.5 1.5 0 113 0m-3 6a1.5 1.5 0 00-3 0v2a7.5 7.5 0 0015 0v-5a1.5 1.5 0 00-3 0m-6-3V11m0-5.5v-1a1.5 1.5 0 013 0v1m0 0V11m0-5.5a1.5 1.5 0 013 0v3m0 0V11',
                        position: { top: 350, left: 850 },
                        tooltip: {
                            title: 'Drying Process Details',
                            content: 'Sun drying is most common but weather dependent. Mechanical dryers provide consistent results. Target moisture of 14% ensures safe storage.',
                            stats: [
                                'Target Moisture: 14%',
                                'Drying Time: 2-5 days (sun)',
                                'Mechanical Drying: 8-12 hours',
                                'Quality Loss: <2% with proper drying'
                            ]
                        },
                        bottleneck: 'Weather dependency, drying infrastructure, energy costs'
                    },
                    {
                        title: 'Milling',
                        description: 'Processing paddy into white rice',
                        icon: 'M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z M15 12a3 3 0 11-6 0 3 3 0 016 0z',
                        position: { top: 470, left: 700 },
                        tooltip: {
                            title: 'Milling Process Details',
                            content: 'Modern mills achieve 65-70% head rice recovery. Parboiling improves nutritional value. By-products include bran and broken rice.',
                            stats: [
                                'Head Rice Recovery: 65-70%',
                                'Milling Capacity: 1-10 tons/hour',
                                'By-products: Bran (8%), Broken (15%)',
                                'Processing Cost: 5-8% of paddy value'
                            ]
                        },
                        bottleneck: 'Milling efficiency, quality control, by-product utilization'
                    },
                    {
                        title: 'Packaging',
                        description: 'Packaging rice for different market segments',
                        icon: 'M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4',
                        position: { top: 470, left: 500 },
                        tooltip: {
                            title: 'Packaging Details',
                            content: 'Various pack sizes cater to different markets. Vacuum packaging extends shelf life. Branding adds value for premium segments.',
                            stats: [
                                'Pack Sizes: 1kg, 5kg, 25kg, 50kg',
                                'Packaging Materials: PP bags, vacuum packs',
                                'Shelf Life: 12-24 months',
                                'Value Addition: 10-30% through packaging'
                            ]
                        },
                        bottleneck: 'Packaging costs, material availability, quality standards'
                    },
                    {
                        title: 'Distribution',
                        description: 'Transportation to wholesale and retail markets',
                        icon: 'M9 17a2 2 0 11-4 0 2 2 0 014 0zM19 17a2 2 0 11-4 0 2 2 0 014 0z M13 16V6a1 1 0 00-1-1H4a1 1 0 00-1 1v10a1 1 0 001 1h1m8-1a1 1 0 01-1 1H9m4-1V8a1 1 0 011-1h2.586a1 1 0 01.707.293l3.414 3.414a1 1 0 01.293.707V16a1 1 0 01-1 1h-1m-6-1a1 1 0 001 1h1M5 17a2 2 0 104 0m-4 0a2 2 0 114 0m6 0a2 2 0 104 0m-4 0a2 2 0 114 0',
                        position: { top: 470, left: 300 },
                        tooltip: {
                            title: 'Distribution Details',
                            content: 'Multi-tier distribution system reaches rural and urban markets. Cold storage maintains quality. Export markets demand premium quality.',
                            stats: [
                                'Distribution Channels: 4-5 tiers',
                                'Transport Cost: 3-5% of value',
                                'Storage Duration: 3-12 months',
                                'Export Markets: 50+ countries'
                            ]
                        },
                        bottleneck: 'Transport infrastructure, storage facilities, quality maintenance'
                    },
                    {
                        title: 'Retail Sales',
                        description: 'Final consumer sales through various channels',
                        icon: 'M8 14v3m4-3v3m4-3v3M3 21h18M3 10h18M3 7l9-4 9 4M4 10h16v11H4V10z',
                        position: { top: 470, left: 100 },
                        tooltip: {
                            title: 'Retail Sales Details',
                            content: 'Multiple retail channels serve different consumer segments. Brand loyalty drives premium pricing. Online sales growing rapidly.',
                            stats: [
                                'Retail Channels: Traditional, modern trade',
                                'Brand Premium: 15-25%',
                                'Online Sales: 5-10% and growing',
                                'Consumer Preference: Quality over price'
                            ]
                        },
                        bottleneck: 'Market competition, consumer preferences, price volatility'
                    }
                ],
                overview: {
                    title: 'Rice Supply Chain Overview',
                    stats: [
                        { title: 'Pakistan Production', value: '8.4 Million', subtitle: 'Metric tons annually', color: 'olive-green' },
                        { title: 'Export Value', value: '$2.1 Billion', subtitle: 'Annual export earnings', color: 'fresh-green' },
                        { title: 'Milling Recovery', value: '65-70%', subtitle: 'Head rice from paddy', color: 'reseda-green' }
                    ]
                }
            },
            'Wheat': {
                stages: [
                    {
                        title: 'Seed Selection',
                        description: 'Choosing certified wheat varieties for local conditions',
                        icon: 'M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z',
                        position: { top: 50, left: 100 },
                        tooltip: {
                            title: 'Wheat Seed Selection Details',
                            content: 'Certified seeds ensure genetic purity and disease resistance. Different varieties suit different agro-climatic zones. Seed treatment prevents soil-borne diseases.',
                            stats: [
                                'Seed Rate: 100-125 kg/hectare',
                                'Germination: 85%+ required',
                                'Varieties: 20+ approved types',
                                'Treatment: Fungicide + insecticide'
                            ]
                        },
                        bottleneck: 'Certified seed availability, variety adaptation, seed costs'
                    },
                    {
                        title: 'Land Preparation',
                        description: 'Deep plowing and seedbed preparation',
                        icon: 'M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z',
                        position: { top: 50, left: 300 },
                        tooltip: {
                            title: 'Land Preparation Details',
                            content: 'Deep plowing improves soil structure and water infiltration. Laser leveling ensures uniform irrigation. Organic matter incorporation enhances fertility.',
                            stats: [
                                'Plowing Depth: 20-25 cm',
                                'Laser Leveling: 90% farms',
                                'Organic Matter: 2-3% ideal',
                                'Seedbed: Fine, firm, level'
                            ]
                        },
                        bottleneck: 'Equipment availability, soil compaction, organic matter shortage'
                    },
                    {
                        title: 'Sowing',
                        description: 'Planting wheat at optimal time and depth',
                        icon: 'M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10',
                        position: { top: 50, left: 500 },
                        tooltip: {
                            title: 'Sowing Details',
                            content: 'Optimal sowing time is November 15-December 15. Drill sowing ensures proper depth and spacing. Row spacing affects plant population.',
                            stats: [
                                'Sowing Time: Nov 15 - Dec 15',
                                'Sowing Depth: 3-5 cm',
                                'Row Spacing: 22.5 cm',
                                'Plant Population: 400-450 plants/m²'
                            ]
                        },
                        bottleneck: 'Timing precision, weather delays, equipment sharing'
                    },
                    {
                        title: 'Crop Management',
                        description: 'Irrigation, fertilization, and weed control',
                        icon: 'M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z',
                        position: { top: 50, left: 700 },
                        tooltip: {
                            title: 'Crop Management Details',
                            content: 'Wheat requires 4-5 irrigations during growing season. Balanced fertilization ensures optimal yield. Integrated weed management controls major weeds.',
                            stats: [
                                'Irrigations: 4-5 times',
                                'Water Requirement: 450-600 mm',
                                'Fertilizer: NPK 120:90:60',
                                'Growing Period: 120-150 days'
                            ]
                        },
                        bottleneck: 'Water scarcity, fertilizer costs, weed resistance'
                    },
                    {
                        title: 'Harvesting',
                        description: 'Cutting wheat at physiological maturity',
                        icon: 'M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4',
                        position: { top: 180, left: 850 },
                        tooltip: {
                            title: 'Harvesting Details',
                            content: 'Harvest when grain moisture is 12-14%. Combine harvesters increase efficiency. Timely harvest prevents yield losses.',
                            stats: [
                                'Harvest Time: April-May',
                                'Grain Moisture: 12-14%',
                                'Yield: 3-6 tons/hectare',
                                'Harvest Window: 10-15 days'
                            ]
                        },
                        bottleneck: 'Equipment availability, weather conditions, labor costs'
                    },
                    {
                        title: 'Threshing',
                        description: 'Separating grain from straw',
                        icon: 'M7 11.5V14m0-2.5v-6a1.5 1.5 0 113 0m-3 6a1.5 1.5 0 00-3 0v2a7.5 7.5 0 0015 0v-5a1.5 1.5 0 00-3 0m-6-3V11m0-5.5v-1a1.5 1.5 0 013 0v1m0 0V11m0-5.5a1.5 1.5 0 013 0v3m0 0V11',
                        position: { top: 350, left: 850 },
                        tooltip: {
                            title: 'Threshing Details',
                            content: 'Combine harvesters thresh while harvesting. Stationary threshers used for manual harvest. Proper adjustment prevents grain damage.',
                            stats: [
                                'Threshing Efficiency: 98%+',
                                'Grain Damage: <2%',
                                'Straw Utilization: Animal feed, fuel',
                                'Processing Cost: 3-5% of grain value'
                            ]
                        },
                        bottleneck: 'Equipment maintenance, grain quality, straw management'
                    },
                    {
                        title: 'Storage',
                        description: 'Safe storage to maintain grain quality',
                        icon: 'M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z M15 12a3 3 0 11-6 0 3 3 0 016 0z',
                        position: { top: 470, left: 700 },
                        tooltip: {
                            title: 'Storage Details',
                            content: 'Proper storage prevents pest damage and quality deterioration. Moisture control is critical. Modern silos provide better protection.',
                            stats: [
                                'Storage Moisture: 12% maximum',
                                'Storage Duration: 6-12 months',
                                'Storage Losses: 2-5%',
                                'Pest Control: Fumigation, monitoring'
                            ]
                        },
                        bottleneck: 'Storage infrastructure, pest management, moisture control'
                    },
                    {
                        title: 'Milling',
                        description: 'Processing wheat into flour',
                        icon: 'M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4',
                        position: { top: 470, left: 500 },
                        tooltip: {
                            title: 'Milling Details',
                            content: 'Modern roller mills extract 72-76% flour. Different grades serve various markets. By-products include bran and shorts.',
                            stats: [
                                'Flour Extraction: 72-76%',
                                'Milling Capacity: 50-500 tons/day',
                                'By-products: Bran (22%), Shorts (2%)',
                                'Quality Grades: Multiple flour types'
                            ]
                        },
                        bottleneck: 'Milling capacity, energy costs, quality standards'
                    },
                    {
                        title: 'Distribution',
                        description: 'Transportation to markets and consumers',
                        icon: 'M9 17a2 2 0 11-4 0 2 2 0 014 0zM19 17a2 2 0 11-4 0 2 2 0 014 0z M13 16V6a1 1 0 00-1-1H4a1 1 0 00-1 1v10a1 1 0 001 1h1m8-1a1 1 0 01-1 1H9m4-1V8a1 1 0 011-1h2.586a1 1 0 01.707.293l3.414 3.414a1 1 0 01.293.707V16a1 1 0 01-1 1h-1m-6-1a1 1 0 001 1h1M5 17a2 2 0 104 0m-4 0a2 2 0 114 0m6 0a2 2 0 104 0m-4 0a2 2 0 114 0',
                        position: { top: 470, left: 300 },
                        tooltip: {
                            title: 'Distribution Details',
                            content: 'Extensive distribution network covers urban and rural areas. Bulk transport reduces costs. Quality maintenance during transport is crucial.',
                            stats: [
                                'Distribution Network: National coverage',
                                'Transport Modes: Road (95%), Rail (5%)',
                                'Packaging: 20kg, 50kg bags',
                                'Shelf Life: 6-12 months'
                            ]
                        },
                        bottleneck: 'Transport costs, quality maintenance, market access'
                    },
                    {
                        title: 'Retail & Consumption',
                        description: 'Final sales to consumers',
                        icon: 'M8 14v3m4-3v3m4-3v3M3 21h18M3 10h18M3 7l9-4 9 4M4 10h16v11H4V10z',
                        position: { top: 470, left: 100 },
                        tooltip: {
                            title: 'Retail & Consumption Details',
                            content: 'Wheat flour is staple food for majority population. Various retail channels serve different segments. Brand loyalty varies by region.',
                            stats: [
                                'Per Capita Consumption: 124 kg/year',
                                'Retail Channels: Traditional, modern',
                                'Market Segments: Premium, standard',
                                'Price Sensitivity: High'
                            ]
                        },
                        bottleneck: 'Price volatility, quality consistency, consumer preferences'
                    }
                ],
                overview: {
                    title: 'Wheat Supply Chain Overview',
                    stats: [
                        { title: 'Pakistan Production', value: '25.2 Million', subtitle: 'Metric tons annually', color: 'olive-green' },
                        { title: 'Cultivated Area', value: '9.2 Million', subtitle: 'Hectares nationwide', color: 'fresh-green' },
                        { title: 'Food Security', value: '36%', subtitle: 'Of total calorie intake', color: 'reseda-green' }
                    ]
                }
            },
            'Sugarcane': {
                stages: [
                    {
                        title: 'Seed Cane Selection',
                        description: 'Selecting healthy cane stalks for planting',
                        icon: 'M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z',
                        position: { top: 50, left: 100 },
                        tooltip: {
                            title: 'Seed Cane Selection Details',
                            content: 'Disease-free seed cane from 8-10 month old crop. Each seed piece contains 2-3 buds. Tissue culture provides disease-free material.',
                            stats: [
                                'Seed Rate: 50,000-60,000 pieces/hectare',
                                'Germination: 80-85%',
                                'Seed Age: 8-10 months',
                                'Bud Viability: 2-3 buds per piece'
                            ]
                        },
                        bottleneck: 'Disease transmission, seed quality, availability of healthy material'
                    },
                    {
                        title: 'Land Preparation',
                        description: 'Deep plowing and furrow preparation',
                        icon: 'M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z',
                        position: { top: 50, left: 300 },
                        tooltip: {
                            title: 'Land Preparation Details',
                            content: 'Deep plowing to 30-40 cm improves root *****. Furrows spaced 1.2-1.5 meters apart. Organic matter incorporation essential.',
                            stats: [
                                'Plowing Depth: 30-40 cm',
                                'Furrow Spacing: 1.2-1.5 meters',
                                'Organic Matter: 25-30 tons/hectare',
                                'Field Preparation: 2-3 weeks'
                            ]
                        },
                        bottleneck: 'Heavy machinery costs, soil compaction, drainage issues'
                    },
                    {
                        title: 'Planting',
                        description: 'Placing seed cane in furrows',
                        icon: 'M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10',
                        position: { top: 50, left: 500 },
                        tooltip: {
                            title: 'Planting Details',
                            content: 'Seed pieces placed end-to-end in furrows. Covered with 5-7 cm soil. Optimal planting time is October-December.',
                            stats: [
                                'Planting Depth: 5-7 cm',
                                'Planting Season: October-December',
                                'Germination Period: 15-30 days',
                                'Plant Population: 100,000-120,000/hectare'
                            ]
                        },
                        bottleneck: 'Seasonal timing, soil moisture, seed placement accuracy'
                    },
                    {
                        title: 'Crop Management',
                        description: 'Irrigation, fertilization, and pest control',
                        icon: 'M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z',
                        position: { top: 50, left: 700 },
                        tooltip: {
                            title: 'Crop Management Details',
                            content: 'High water requirement crop needing 1500-2500mm annually. Multiple fertilizer applications. IPM for borer control.',
                            stats: [
                                'Water Requirement: 1500-2500 mm',
                                'Growing Period: 12-18 months',
                                'Irrigations: 15-25 times',
                                'Major Pest: Sugarcane borer'
                            ]
                        },
                        bottleneck: 'High water demand, pest management, fertilizer costs'
                    },
                    {
                        title: 'Harvesting',
                        description: 'Cutting mature cane at ground level',
                        icon: 'M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4',
                        position: { top: 180, left: 850 },
                        tooltip: {
                            title: 'Harvesting Details',
                            content: 'Harvest when sucrose content reaches 18-20%. Manual or mechanical cutting. Quick transport to mill essential.',
                            stats: [
                                'Harvest Season: November-April',
                                'Sucrose Content: 18-20%',
                                'Yield: 50-80 tons/hectare',
                                'Transport Time: Within 24 hours'
                            ]
                        },
                        bottleneck: 'Labor shortage, transport coordination, mill capacity'
                    },
                    {
                        title: 'Transportation',
                        description: 'Quick transport to sugar mills',
                        icon: 'M7 11.5V14m0-2.5v-6a1.5 1.5 0 113 0m-3 6a1.5 1.5 0 00-3 0v2a7.5 7.5 0 0015 0v-5a1.5 1.5 0 00-3 0m-6-3V11m0-5.5v-1a1.5 1.5 0 013 0v1m0 0V11m0-5.5a1.5 1.5 0 013 0v3m0 0V11',
                        position: { top: 350, left: 850 },
                        tooltip: {
                            title: 'Transportation Details',
                            content: 'Specialized trailers carry 15-20 tons per load. GPS tracking optimizes routes. Time critical to prevent sucrose loss.',
                            stats: [
                                'Load Capacity: 15-20 tons',
                                'Transport Distance: 10-50 km',
                                'Time Limit: 24-48 hours',
                                'Sucrose Loss: 0.1% per day delay'
                            ]
                        },
                        bottleneck: 'Vehicle availability, road conditions, fuel costs'
                    },
                    {
                        title: 'Sugar Processing',
                        description: 'Extraction and crystallization of sugar',
                        icon: 'M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z M15 12a3 3 0 11-6 0 3 3 0 016 0z',
                        position: { top: 470, left: 700 },
                        tooltip: {
                            title: 'Sugar Processing Details',
                            content: 'Modern mills extract 95-98% available sucrose. Multiple clarification stages. Vacuum crystallization produces quality sugar.',
                            stats: [
                                'Extraction Rate: 95-98%',
                                'Processing Capacity: 2500-10000 TCD',
                                'Sugar Recovery: 10-12%',
                                'By-products: Bagasse, molasses'
                            ]
                        },
                        bottleneck: 'Energy costs, equipment maintenance, environmental compliance'
                    },
                    {
                        title: 'Packaging',
                        description: 'Packaging sugar in various sizes',
                        icon: 'M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4',
                        position: { top: 470, left: 500 },
                        tooltip: {
                            title: 'Packaging Details',
                            content: 'Automated packaging lines handle multiple sizes. Moisture-proof packaging prevents caking. Brand differentiation important.',
                            stats: [
                                'Pack Sizes: 1kg, 5kg, 50kg',
                                'Packaging Speed: 50-100 bags/minute',
                                'Shelf Life: 24 months',
                                'Moisture Control: Critical'
                            ]
                        },
                        bottleneck: 'Packaging material costs, automation, quality control'
                    },
                    {
                        title: 'Distribution',
                        description: 'Wholesale and retail distribution',
                        icon: 'M9 17a2 2 0 11-4 0 2 2 0 014 0zM19 17a2 2 0 11-4 0 2 2 0 014 0z M13 16V6a1 1 0 00-1-1H4a1 1 0 00-1 1v10a1 1 0 001 1h1m8-1a1 1 0 01-1 1H9m4-1V8a1 1 0 011-1h2.586a1 1 0 01.707.293l3.414 3.414a1 1 0 01.293.707V16a1 1 0 01-1 1h-1m-6-1a1 1 0 001 1h1M5 17a2 2 0 104 0m-4 0a2 2 0 114 0m6 0a2 2 0 104 0m-4 0a2 2 0 114 0',
                        position: { top: 470, left: 300 },
                        tooltip: {
                            title: 'Distribution Details',
                            content: 'National distribution network covers all major cities. Cold storage not required. Multiple distribution tiers.',
                            stats: [
                                'Distribution Radius: 500-2000 km',
                                'Storage Duration: 3-6 months',
                                'Market Coverage: 95% urban',
                                'Distribution Tiers: 3-4 levels'
                            ]
                        },
                        bottleneck: 'Transport costs, storage infrastructure, market competition'
                    },
                    {
                        title: 'Retail Sales',
                        description: 'Consumer sales through various channels',
                        icon: 'M8 14v3m4-3v3m4-3v3M3 21h18M3 10h18M3 7l9-4 9 4M4 10h16v11H4V10z',
                        position: { top: 470, left: 100 },
                        tooltip: {
                            title: 'Retail Sales Details',
                            content: 'Multiple retail channels serve different segments. Brand loyalty strong in urban areas. Price competition intense.',
                            stats: [
                                'Retail Channels: 5+ types',
                                'Brand Premium: 5-15%',
                                'Per Capita Consumption: 25 kg/year',
                                'Market Segments: Premium, standard'
                            ]
                        },
                        bottleneck: 'Brand competition, price sensitivity, quality perception'
                    }
                ],
                overview: {
                    title: 'Sugarcane Supply Chain Overview',
                    stats: [
                        { title: 'Pakistan Production', value: '75.5 Million', subtitle: 'Metric tons annually', color: 'olive-green' },
                        { title: 'Sugar Recovery', value: '10-12%', subtitle: 'From cane to sugar', color: 'fresh-green' },
                        { title: 'Mill Capacity', value: '84 Mills', subtitle: 'Processing facilities', color: 'reseda-green' }
                    ]
                }
            },

            'Chili': {
                stages: [
                    {
                        "title": "Land Preparation",
                        "description": "Levelling land and planning irrigation to prepare for sowing",
                        "icon": "https://i.ibb.co/sJgxZJZK/Land-Preparation.png",
                        "position": { "top": 50, "left": 100 },
                        "tooltip": {
                            "content": "<b>Land Levelling Methods</b><table><tr><th>Type</th><th>How it’s done</th><th>Notes</th></tr><tr><td>Manual</td><td>Ploughs or hand tools flatten small fields.</td><td>Low cost, labor‑intensive</td></tr><tr><td>Animal‑drawn</td><td>Bullocks pull levellers.</td><td>Traditional method</td></tr><tr><td>Tractor</td><td>Blade attachments level land quickly.</td><td>Common in larger farms</td></tr><tr><td>Laser</td><td>Laser‑guided leveling for precision.</td><td>Rare for smallholders</td></tr></table><br><b>Irrigation Planning Methods</b><table><tr><th>Type</th><th>How water is managed</th><th>Notes</th></tr><tr><td>Flood (Canal/Nehr)</td><td>Water floods rows via channels.</td><td>Traditional, high water use</td></tr><tr><td>Pump‑based</td><td>Pumped from tube wells into fields.</td><td>Where canals aren’t available</td></tr><tr><td>Furrow Design</td><td>Small channels guide water.</td><td>Improves uniformity</td></tr><tr><td>Drip Irrigation</td><td>Pipes deliver water directly to roots.</td><td>Efficient; subsidized in Sindh</td></tr></table>",
                            "stats": [
                                "Water Frequency: Every 10–15 days during peak heat",
                                "Govt Support: 60% subsidy on drip irrigation (Sindh)"
                            ]
                        },
                        "bottleneck": "Soil quality issues (salinity in some areas), high leveling costs, and insufficient water.",
                        "quote": "“Zameen tayaar ki jati hai... pump lagay huay hain... choti choti nehri banai hoti hai.” — Nazir\n“The government... was offering a drip irrigation system... hum switch ho gaye to drip irrigation.” — Agri 5"
                    },
                    {
                        "title": "Seed Selection",
                        "description": "Selecting hybrid or local seeds based on yield, taste, and disease resistance",
                        "icon": "https://i.ibb.co/LzrhY1Lk/Seed-Selection.png",
                        "position": { "top": 50, "left": 350 },
                        "tooltip": {
                            "content": "<p>Seed choice depends on climate, disease resistance, and expected market rates. Farmers often select hybrid seeds like Sanam for higher yields, while Longi mirch is valued for its strong flavor and better price.</p><b>Seed Variety Comparison</b><table><tr><th>Characteristic</th><th>Sanam Mirch (Hybrid)</th><th>Longi Mirch (Local)</th></tr><tr><td>Shape & Size</td><td>Short (4–6 cm), thick</td><td>Long (8–12 cm), slender</td></tr><tr><td>Color (when ripe)</td><td>Bright red</td><td>Deep red to crimson</td></tr><tr><td>Pungency</td><td>Medium–high</td><td>Medium–low</td></tr><tr><td>Culinary Use</td><td>Powder; spicy dishes</td><td>Dried whole; pickles, tadka</td></tr><tr><td>Plant Type</td><td>Bushy, good yield</td><td>Taller, longer maturity</td></tr><tr><td>Farming Traits</td><td>Suited for powder production</td><td>Preferred for whole drying</td></tr><tr><td>Drying & Storage</td><td>Dries quickly</td><td>Takes longer to dry</td></tr></table>",
                            "stats": [
                                "Fruit Maturity: ~120 days after transplant",
                                "Seed Source: Mostly uncertified/local suppliers",
                                "Regions Grown: Punjab & Sindh (Sanam); Southern Punjab & Balochistan (Longi)"
                            ]
                        },
                        "bottleneck": "Lack of certified seed access, inconsistent quality, overproduction, limited extension support, and fluctuating hybrid seed prices.",
                        "quote": "“Hybrid ki yield zyada hoti hai, but Longi ka taste market mein pasand kiya jata hai.” — Waseem\n“Seed ki certification pe buhat issues hain.” — Agri 5"
                    },
                    {
                        "title": "Nursery & Transplantation",
                        "description": "Seeds are first grown in nurseries, then transplanted to fields after 45 days",
                        "icon": "https://i.ibb.co/VpbjKzZL/Nursery-Transplantation.png",
                        "position": { "top": 50, "left": 600 },
                        "tooltip": {
                            "content": "Seeds are first raised in nursery beds (around February). After about 45 days, they are transplanted into fields. This stage is vulnerable to monsoon damage, which can burn young plants.",
                            "stats": [
                                "Nursery Duration: ~45 days",
                                "Transplant Timing: Feb–March",
                                "Fruiting Starts: ~120 days after transplant",
                                "Key Input: Early fungicide & NPK sprays"
                            ]
                        },
                        "bottleneck": "Unpredictable weather, transplant shock, water shortage, and early pest attacks on seedlings.",
                        "quote": "“Feb mein seed lag jata hai... 45 din baad land mein transplant kar detay hain.” — Waseem\n“July end se August ka monsoon time hota hai... burning bhi ho sakti hai.” — Waseem"
                    },
                    {
                        "title": "Crop Management",
                        "description": "Regular irrigation, fertilizers, and sprays are used to protect plants and ensure healthy fruiting.",
                        "icon": "https://i.ibb.co/cXTtQn9M/Crop-Management.png",
                        "position": { "top": 100, "left": 850 },
                        "tooltip": {
                            "content": "<b>Crop Management Activities</b><table><tr><th>Activity</th><th>Frequency</th><th>Notes</th></tr><tr><td>Spraying</td><td>Every 7–10 days</td><td>Fungicides to control disease</td></tr><tr><td>Fertilizers</td><td>NPK, Urea, DAP</td><td>Applied at key growth stages</td></tr><tr><td>Watering</td><td>Every 10–15 days</td><td>Often delayed due to scarcity</td></tr><tr><td>Fruiting</td><td>~120 days after transplant</td><td>Management affects yield</td></tr></table>",
                            "stats": [
                                "Spray Frequency: Every 7–10 days",
                                "Fertilizers: NPK, Urea, DAP",
                                "Watering: Every 10–15 days",
                                "Fruiting: ~120 days after transplant"
                            ]
                        },
                        "bottleneck": "Pest and disease pressure, water scarcity, high input costs, and irregular access to inputs.",
                        "quote": "“Fungicide ka spray hum har 7 din baad repeat karte hain.” — Waseem\n“Pani humein 15 din baad ya 21 din baad milta hai... tough hota hai April se June main.” — Waseem\n“Time pay paani dena hota hai... khula paani nahi hota.” — Nazir"
                    },
                    {
                        "title": "Harvesting",
                        "description": "Chillies are harvested daily or every other day once fruit ripens.",
                        "icon": "https://i.ibb.co/7JpjP5NT/Harvesting.png",
                        "position": { "top": 275, "left": 950 },
                        "tooltip": {
                            "content": "Harvesting starts ~120 days after transplant and continues for 2–3 months. Picking is done daily or every other day by family or hired labor. Delays can spoil fruit.",
                            "stats": [
                                "Harvest Period: 2–3 months",
                                "Picking Frequency: Daily or alternate days",
                                "Labor: Family & hired workers"
                            ]
                        },
                        "bottleneck": "Labor shortage (many shift to other seasonal crops), timing precision, and weather disruptions.",
                        "quote": "“MashAllah say humaray khandan main hee aurtain aur bachay sab yeh kaam kartay hain... roz ki tori hoti hai.” — Nazir\n“Jaise hi fruit red ho gaya, agar delay hua toh pet kharab karegi.” — Waseem"
                    },
                    {
                        "title": "Drying & Post-Harvest Handling",
                        "description": "Sun-dried on plastic or green net sheets to prevent contamination",
                        "icon": "https://i.ibb.co/4R9pdZzz/Drying-Post-Harvest-Handling.png",
                        "position": { "top": 450, "left": 850 },
                        "tooltip": {
                            "content": "<b>Drying Methods</b><table><tr><th>Method</th><th>Tool Used</th><th>Notes</th></tr><tr><td>Sun Drying</td><td>Green nets or plastic sheets</td><td>Prevents soil contamination</td></tr><tr><td>Heater Drying</td><td>NGO/government heaters</td><td>Limited access</td></tr></table><br><b>Post‑Harvest Handling</b><table><tr><th>Step</th><th>Purpose</th></tr><tr><td>Sorting</td><td>Damaged pods removed before market</td></tr><tr><td>Packing</td><td>Stored in jute bags for ventilation</td></tr></table>",
                            "stats": [
                                "Drying Time: Varies by sun exposure",
                                "Drying Method: Sun drying on sheets or heaters",
                                "Tools Used: Green nets, plastic sheets, jute bags"
                            ]
                        },
                        "bottleneck": "Fungal contamination (aflatoxin), limited dryer access, weather dependency, and poor drying surface practices.",
                        "quote": "“Green net ya plastic sheet use karte hain... mitti lagti hai toh fungal disease aata hai.” — Waseem\n“Kharab daana... market mein nahi jaata.” — Nazir\n“Large heaters aa gaye hain... lekin sirf ek ya do machines hain hamaray region mein.” — Waseem"
                    },
                    {
                        "title": "Processing",
                        "description": "Chillies can be sold dried or ground into powder if quality is low.",
                        "icon": "https://i.ibb.co/YBfJtmvz/Processing.png",
                        "position": { "top": 500, "left": 600 },
                        "tooltip": {
                            "content": "<b>Processing Options</b><table><tr><th>Option</th><th>When Used</th><th>Limitation</th></tr><tr><td>Sell Dried</td><td>When quality meets market</td><td>Requires buyers and storage</td></tr><tr><td>Grind to Powder</td><td>When quality is low</td><td>Time consuming</td></tr><tr><td>Bulk Supply</td><td>Processor demand</td><td>Smallholders can’t meet volume</td></tr></table>",
                            "stats": [
                                "Processing: Sold as dried or powder",
                                "Constraint: Time & scale limitations"
                            ]
                        },
                        "bottleneck": "Time constraints, smallholder scale, and lack of local processing facilities.",
                        "quote": "“Agar quality market ke mutabiq na ho... powder form mein bana lein.” — Waseem\n“Itna time farmer ke paas nahi hota... next crop ki preparation bhi karni hoti hai.” — Waseem\n“Unki requirement itni zyada hai ke main akela match nahi kar sakta.” — Agri 5"
                    },
                    {
                        "title": "Storage and Transport",
                        "description": "Dried chillies are stored in jute bags and transported to local markets and processing units through middlemen.",
                        "icon": "https://i.ibb.co/JjHCNHzX/Storage-Transport.png",
                        "position": { "top": 500, "left": 350 },
                        "tooltip": {
                            "content": "Dried chillies are stored in jute bags for ventilation and transported through middlemen. Limited storage facilities and fuel costs reduce farmer margins.",
                            "stats": [
                                "Storage Method: Jute bags",
                                "Transport Mode: Manual or local vehicles",
                                "Buyer Type: Middlemen (aarti), wholesalers"
                            ]
                        },
                        "bottleneck": "Middleman dependency, lack of cold storage, high transport costs, and spoilage risks from poor storage bags",
                        "quote": "“Jute bags mein transport karte hain... thodi quality sahi rehti hai.” — Waseem\n“Hum market ko dekhain ya apnay baagh ko?... aarti hotay hain woh lay letay hain.” — Nazir\n“Middleman... fuel cost bhi producer pe daal deta hai.” — Agri 5"
                    },
                    {
                        "title": "Market & Sales",
                        "description": "Chillies are sold through middlemen at local mandis. Prices fluctuate and are outside farmers’ control.",
                        "icon": "6",
                        "position": { "top": 500, "left": 100 },
                        "tooltip": {
                            "content": "Farmers sell mainly through middlemen at local mandis. Middlemen control prices and payments are often delayed.",
                            "stats": [
                                "Sales Channel: Local mandis via aarti",
                                "Payment: Delayed by 1–2 months"
                            ]
                        },
                        "bottleneck": "Price volatility, lack of direct market access, dependence on middlemen credit, and delayed grading disputes.",
                        "quote": "“Aarti lay jatay hain... woh hi wholesale main bechta hai.” — Nazir\n“Middlemen rates dictate kartay hain... koi system nahi hai.” — Agri 5\n“Payment ke liye mahina do mahina wait karna parta hai.” — Waseem\n“Farmer ke paas itne resources nahi hote... packing aur logistics ke liye change chahiye.” — Waseem"
                    }
                ],
                overview: {
                    title: 'Chili Supply Chain Overview',
                    stats: [
                        { title: 'Pakistan Production', value: '145 Thousand', subtitle: 'Metric tons annually', color: 'olive-green' },
                        { title: 'Export Value', value: '$65 Million', subtitle: 'Annual export earnings', color: 'fresh-green' },
                        { title: 'Processing Recovery', value: '15-20%', subtitle: 'Dried from fresh weight', color: 'reseda-green' }
                    ]
                }
            },

            'Garlic': {
                stages: [
                    {
                        title: 'Clove Selection',
                        description: 'Selecting healthy garlic cloves for planting',
                        icon: 'M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z',
                        position: { top: 50, left: 100 },
                        tooltip: {
                            title: 'Garlic Clove Selection Details',
                            content: 'Large, disease-free cloves from certified bulbs. Cold treatment improves bulb formation. Organic cloves command premium prices.',
                            stats: [
                                'Clove Size: 3-5 grams each',
                                'Planting Rate: 800-1200 kg/hectare',
                                'Germination: 90-95%',
                                'Cold Treatment: 4-6 weeks'
                            ]
                        },
                        bottleneck: 'Disease-free seed availability, storage infrastructure'
                    },
                    {
                        title: 'Land Preparation',
                        description: 'Soil preparation with organic matter',
                        icon: 'M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z',
                        position: { top: 50, left: 300 },
                        tooltip: {
                            title: 'Land Preparation Details',
                            content: 'Well-drained soil with pH 6.0-7.0 optimal. Raised beds improve drainage. Organic matter incorporation enhances soil structure.',
                            stats: [
                                'Optimal pH: 6.0-7.0',
                                'Bed Height: 15-20 cm',
                                'Organic Matter: 20-25 tons/hectare',
                                'Drainage: Critical requirement'
                            ]
                        },
                        bottleneck: 'Poor drainage, soil pH management, organic matter costs'
                    },
                    {
                        title: 'Planting',
                        description: 'Planting cloves at optimal depth',
                        icon: 'M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10',
                        position: { top: 50, left: 500 },
                        tooltip: {
                            title: 'Planting Details',
                            content: 'Cloves planted 3-5 cm deep with pointed end up. Spacing of 10cm x 15cm optimizes bulb development. October-November planting ideal.',
                            stats: [
                                'Planting Depth: 3-5 cm',
                                'Spacing: 10cm x 15cm',
                                'Planting Season: October-November',
                                'Orientation: Pointed end up'
                            ]
                        },
                        bottleneck: 'Seasonal timing, labor-intensive planting, orientation accuracy'
                    },
                    {
                        title: 'Crop Management',
                        description: 'Irrigation, weeding, and nutrient management',
                        icon: 'M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z',
                        position: { top: 50, left: 700 },
                        tooltip: {
                            title: 'Crop Management Details',
                            content: 'Moderate irrigation prevents bulb rot. Regular weeding crucial as garlic competes poorly. Sulfur application enhances bulb quality.',
                            stats: [
                                'Water Requirement: 400-500 mm',
                                'Growing Period: 180-210 days',
                                'Weeding: 3-4 times',
                                'Sulfur Application: Critical'
                            ]
                        },
                        bottleneck: 'Weed competition, precise irrigation, sulfur availability'
                    },
                    {
                        title: 'Harvesting',
                        description: 'Harvesting when lower leaves turn brown',
                        icon: 'M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4',
                        position: { top: 180, left: 850 },
                        tooltip: {
                            title: 'Harvesting Details',
                            content: 'Harvest when 50-60% leaves turn brown. Careful lifting prevents bulb damage. Immediate curing begins preservation.',
                            stats: [
                                'Harvest Indicator: 50-60% brown leaves',
                                'Harvest Window: 7-10 days',
                                'Yield: 8-15 tons/hectare',
                                'Handling: Very careful required'
                            ]
                        },
                        bottleneck: 'Narrow harvest window, weather dependency, careful handling'
                    },
                    {
                        title: 'Curing',
                        description: 'Drying bulbs to extend storage life',
                        icon: 'M7 11.5V14m0-2.5v-6a1.5 1.5 0 113 0m-3 6a1.5 1.5 0 00-3 0v2a7.5 7.5 0 0015 0v-5a1.5 1.5 0 00-3 0m-6-3V11m0-5.5v-1a1.5 1.5 0 013 0v1m0 0V11m0-5.5a1.5 1.5 0 013 0v3m0 0V11',
                        position: { top: 350, left: 850 },
                        tooltip: {
                            title: 'Curing Details',
                            content: 'Proper curing reduces moisture from 80% to 65-70%. Ventilated storage with controlled temperature. Braiding facilitates air circulation.',
                            stats: [
                                'Curing Period: 2-4 weeks',
                                'Final Moisture: 65-70%',
                                'Storage Life: 6-8 months',
                                'Method: Braiding or bundling'
                            ]
                        },
                        bottleneck: 'Humidity control, adequate ventilation, infrastructure'
                    },
                    {
                        title: 'Grading & Sorting',
                        description: 'Size grading for different markets',
                        icon: 'M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z M15 12a3 3 0 11-6 0 3 3 0 016 0z',
                        position: { top: 470, left: 700 },
                        tooltip: {
                            title: 'Grading Details',
                            content: 'Size grading into small, medium, large categories. Quality sorting removes damaged bulbs. Premium grades command higher prices.',
                            stats: [
                                'Size Categories: 3 main grades',
                                'Quality Standards: Export vs domestic',
                                'Premium Price: 20-30% higher',
                                'Grading Criteria: Size, quality, appearance'
                            ]
                        },
                        bottleneck: 'Quality standardization, grading equipment, market specifications'
                    },
                    {
                        title: 'Packaging',
                        description: 'Packaging in mesh bags or cartons',
                        icon: 'M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4',
                        position: { top: 470, left: 500 },
                        tooltip: {
                            title: 'Packaging Details',
                            content: 'Mesh bags allow air circulation. Various pack sizes for retail and wholesale. Branding adds value for premium markets.',
                            stats: [
                                'Pack Sizes: 250g, 500g, 1kg, 10kg',
                                'Materials: Mesh bags, cartons',
                                'Shelf Life: 6-8 months',
                                'Ventilation: Critical requirement'
                            ]
                        },
                        bottleneck: 'Packaging costs, ventilation requirements, material availability'
                    },
                    {
                        title: 'Distribution',
                        description: 'Wholesale and retail distribution',
                        icon: 'M9 17a2 2 0 11-4 0 2 2 0 014 0zM19 17a2 2 0 11-4 0 2 2 0 014 0z M13 16V6a1 1 0 00-1-1H4a1 1 0 00-1 1v10a1 1 0 001 1h1m8-1a1 1 0 01-1 1H9m4-1V8a1 1 0 011-1h2.586a1 1 0 01.707.293l3.414 3.414a1 1 0 01.293.707V16a1 1 0 01-1 1h-1m-6-1a1 1 0 001 1h1M5 17a2 2 0 104 0m-4 0a2 2 0 114 0m6 0a2 2 0 104 0m-4 0a2 2 0 114 0',
                        position: { top: 470, left: 300 },
                        tooltip: {
                            title: 'Distribution Details',
                            content: 'Cold storage maintains quality. Regional markets prefer different sizes. Export markets require strict quality standards.',
                            stats: [
                                'Storage Temperature: 0-2°C',
                                'Distribution Radius: 500-1500 km',
                                'Market Segments: Fresh, processing, export',
                                'Quality Maintenance: Critical'
                            ]
                        },
                        bottleneck: 'Cold storage infrastructure, quality maintenance, market access'
                    },
                    {
                        title: 'Retail Sales',
                        description: 'Consumer sales through various channels',
                        icon: 'M8 14v3m4-3v3m4-3v3M3 21h18M3 10h18M3 7l9-4 9 4M4 10h16v11H4V10z',
                        position: { top: 470, left: 100 },
                        tooltip: {
                            title: 'Retail Sales Details',
                            content: 'Multiple retail channels serve different segments. Organic garlic commands premium. Value-added products include peeled and minced forms.',
                            stats: [
                                'Retail Channels: 4+ types',
                                'Organic Premium: 40-60%',
                                'Value Addition: 100-200%',
                                'Products: Fresh, peeled, minced, powder'
                            ]
                        },
                        bottleneck: 'Price competition, quality perception, shelf life management'
                    }
                ],
                overview: {
                    title: 'Garlic Supply Chain Overview',
                    stats: [
                        { title: 'Pakistan Production', value: '150 Thousand', subtitle: 'Metric tons annually', color: 'olive-green' },
                        { title: 'Export Potential', value: '$25 Million', subtitle: 'Annual export opportunity', color: 'fresh-green' },
                        { title: 'Storage Life', value: '6-8 Months', subtitle: 'With proper curing', color: 'reseda-green' }
                    ]
                }
            },
            'Potato': {
                stages: [
                    {
                        title: 'Seed Selection',
                        description: 'Selecting certified disease-free potato seeds',
                        icon: 'M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z',
                        position: { top: 50, left: 100 },
                        tooltip: {
                            title: 'Potato Seed Selection Details',
                            content: 'Certified seed potatoes ensure disease-free planting. Different varieties for processing, fresh market, or export. Tissue culture provides highest quality.',
                            stats: [
                                'Seed Rate: 2.5-3.5 tons/hectare',
                                'Varieties: 15+ commercial types',
                                'Certification: 3-generation system',
                                'Disease-free: Critical requirement'
                            ]
                        },
                        bottleneck: 'Limited certified seed availability, high seed costs'
                    },
                    {
                        title: 'Land Preparation',
                        description: 'Deep plowing and ridge formation',
                        icon: 'M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z',
                        position: { top: 50, left: 300 },
                        tooltip: {
                            title: 'Land Preparation Details',
                            content: 'Deep plowing improves soil structure. Ridge and furrow system facilitates irrigation. Organic matter incorporation enhances fertility.',
                            stats: [
                                'Plowing Depth: 25-30 cm',
                                'Ridge Height: 20-25 cm',
                                'Organic Matter: 15-20 tons/hectare',
                                'Field Preparation: 2-3 weeks'
                            ]
                        },
                        bottleneck: 'Soil compaction, drainage issues, equipment costs'
                    },
                    {
                        title: 'Planting',
                        description: 'Planting seed potatoes at optimal depth',
                        icon: 'M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10',
                        position: { top: 50, left: 500 },
                        tooltip: {
                            title: 'Planting Details',
                            content: 'Seed potatoes planted 8-10 cm deep. Mechanical planters ensure uniform spacing. Pre-sprouting reduces crop duration.',
                            stats: [
                                'Planting Depth: 8-10 cm',
                                'Plant Spacing: 20-25 cm',
                                'Row Spacing: 60-75 cm',
                                'Pre-sprouting: Reduces duration 10-15 days'
                            ]
                        },
                        bottleneck: 'Planting precision, seasonal timing, equipment availability'
                    },
                    {
                        title: 'Crop Management',
                        description: 'Irrigation, fertilization, and pest control',
                        icon: 'M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z',
                        position: { top: 50, left: 700 },
                        tooltip: {
                            title: 'Crop Management Details',
                            content: 'Drip irrigation provides precise water management. IPM controls late blight and tuber moths. Balanced nutrition ensures optimal tuber development.',
                            stats: [
                                'Water Requirement: 500-700 mm',
                                'Growing Period: 90-120 days',
                                'Fertilizer: 3-4 split applications',
                                'Major Diseases: Late blight, early blight'
                            ]
                        },
                        bottleneck: 'Disease pressure, water management, nutrient timing'
                    },
                    {
                        title: 'Harvesting',
                        description: 'Mechanical or manual harvesting',
                        icon: 'M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4',
                        position: { top: 180, left: 850 },
                        tooltip: {
                            title: 'Harvesting Details',
                            content: 'Mechanical harvesters increase efficiency. Proper timing ensures optimal tuber size. Careful handling prevents bruising.',
                            stats: [
                                'Harvest Window: 10-15 days',
                                'Yield: 25-40 tons/hectare',
                                'Mechanical Efficiency: 2-3 hectares/hour',
                                'Quality Factor: Minimal damage'
                            ]
                        },
                        bottleneck: 'Weather dependency, tuber damage, equipment availability'
                    },
                    {
                        title: 'Curing',
                        description: 'Skin setting and moisture reduction',
                        icon: 'M7 11.5V14m0-2.5v-6a1.5 1.5 0 113 0m-3 6a1.5 1.5 0 00-3 0v2a7.5 7.5 0 0015 0v-5a1.5 1.5 0 00-3 0m-6-3V11m0-5.5v-1a1.5 1.5 0 013 0v1m0 0V11m0-5.5a1.5 1.5 0 013 0v3m0 0V11',
                        position: { top: 350, left: 850 },
                        tooltip: {
                            title: 'Curing Details',
                            content: 'Curing at 15-20°C sets the skin. Proper curing reduces storage losses by 50%. Wound healing prevents pathogen entry.',
                            stats: [
                                'Curing Period: 10-14 days',
                                'Temperature: 15-20°C',
                                'Humidity: 85-95%',
                                'Loss Reduction: 50%'
                            ]
                        },
                        bottleneck: 'Climate control infrastructure, energy costs'
                    },
                    {
                        title: 'Grading & Sorting',
                        description: 'Size grading for different markets',
                        icon: 'M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z M15 12a3 3 0 11-6 0 3 3 0 016 0z',
                        position: { top: 470, left: 700 },
                        tooltip: {
                            title: 'Grading Details',
                            content: 'Automated grading systems sort by size and quality. Processing grades require specific gravity. Export grades meet international standards.',
                            stats: [
                                'Size Categories: 5+ grades',
                                'Processing: Specific gravity >1.080',
                                'Export Quality: <2% defects',
                                'Automation: Optical sorting'
                            ]
                        },
                        bottleneck: 'Grading equipment costs, quality standardization'
                    },
                    {
                        title: 'Storage',
                        description: 'Cold storage to maintain quality',
                        icon: 'M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4',
                        position: { top: 470, left: 500 },
                        tooltip: {
                            title: 'Storage Details',
                            content: 'Cold storage at 2-4°C extends shelf life. Controlled atmosphere storage improves quality retention. Proper ventilation prevents sprouting.',
                            stats: [
                                'Storage Temperature: 2-4°C',
                                'Humidity: 90-95%',
                                'Storage Life: 6-8 months',
                                'Controlled Atmosphere: Further improvement'
                            ]
                        },
                        bottleneck: 'Cold storage infrastructure, energy costs, capacity limitations'
                    },
                    {
                        title: 'Distribution',
                        description: 'Transportation to processing and markets',
                        icon: 'M9 17a2 2 0 11-4 0 2 2 0 014 0zM19 17a2 2 0 11-4 0 2 2 0 014 0z M13 16V6a1 1 0 00-1-1H4a1 1 0 00-1 1v10a1 1 0 001 1h1m8-1a1 1 0 01-1 1H9m4-1V8a1 1 0 011-1h2.586a1 1 0 01.707.293l3.414 3.414a1 1 0 01.293.707V16a1 1 0 01-1 1h-1m-6-1a1 1 0 001 1h1M5 17a2 2 0 104 0m-4 0a2 2 0 114 0m6 0a2 2 0 104 0m-4 0a2 2 0 114 0',
                        position: { top: 470, left: 300 },
                        tooltip: {
                            title: 'Distribution Details',
                            content: 'Refrigerated transport maintains cold chain. GPS tracking optimizes routes. Processing plants require consistent supply.',
                            stats: [
                                'Transport Temperature: 2-8°C',
                                'Distribution Radius: 200-800 km',
                                'Processing Share: 60%',
                                'Cold Chain: Critical requirement'
                            ]
                        },
                        bottleneck: 'Cold chain infrastructure, transport costs, quality maintenance'
                    },
                    {
                        title: 'Processing & Retail',
                        description: 'Processing into chips, fries, and fresh sales',
                        icon: 'M8 14v3m4-3v3m4-3v3M3 21h18M3 10h18M3 7l9-4 9 4M4 10h16v11H4V10z',
                        position: { top: 470, left: 100 },
                        tooltip: {
                            title: 'Processing & Retail Details',
                            content: 'Processing adds 200-400% value. Fresh market requires attractive packaging. Export markets demand consistent quality.',
                            stats: [
                                'Value Addition: 200-400%',
                                'Fresh Market: 40%',
                                'Export Potential: $100+ million',
                                'Products: Chips, fries, frozen'
                            ]
                        },
                        bottleneck: 'Processing capacity, quality standards, market competition'
                    }
                ],
                overview: {
                    title: 'Potato Supply Chain Overview',
                    stats: [
                        { title: 'Pakistan Production', value: '4.6 Million', subtitle: 'Metric tons annually', color: 'olive-green' },
                        { title: 'Processing Potential', value: '60%', subtitle: 'Of total production', color: 'fresh-green' },
                        { title: 'Export Value', value: '$50 Million', subtitle: 'Annual export potential', color: 'reseda-green' }
                    ]
                }
            },
            'Tomato': {
                stages: [
                    {
                        title: 'Seed Selection',
                        description: 'Selecting hybrid varieties for disease resistance',
                        icon: 'M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z',
                        position: { top: 50, left: 100 },
                        tooltip: {
                            title: 'Tomato Seed Selection Details',
                            content: 'Hybrid varieties offer disease resistance and higher yields. Determinate for processing, indeterminate for fresh market. Heat-tolerant varieties extend seasons.',
                            stats: [
                                'Seed Rate: 200-300 grams/hectare',
                                'Germination: 85-90%',
                                'Varieties: 25+ commercial types',
                                'Hybrid Advantage: Disease resistance'
                            ]
                        },
                        bottleneck: 'Limited heat-tolerant varieties, disease resistance breakdown'
                    },
                    {
                        title: 'Nursery Management',
                        description: 'Growing healthy seedlings in protected environment',
                        icon: 'M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z',
                        position: { top: 50, left: 300 },
                        tooltip: {
                            title: 'Nursery Management Details',
                            content: 'Seedlings grown in climate-controlled nurseries for 4-6 weeks. Plug trays ensure uniform root development. Disease-free environment prevents infections.',
                            stats: [
                                'Nursery Period: 4-6 weeks',
                                'Temperature: 20-25°C',
                                'Transplant Size: 15-20 cm',
                                'Disease Prevention: Critical'
                            ]
                        },
                        bottleneck: 'Climate control costs, disease management, timing coordination'
                    },
                    {
                        title: 'Transplanting',
                        description: 'Moving seedlings to main field',
                        icon: 'M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10',
                        position: { top: 50, left: 500 },
                        tooltip: {
                            title: 'Transplanting Details',
                            content: 'Seedlings transplanted at 45cm x 30cm spacing. Drip irrigation systems installed before transplanting. Mulching reduces weed competition.',
                            stats: [
                                'Plant Spacing: 45cm x 30cm',
                                'Plants per hectare: 74,000',
                                'Transplant Success: 95%+',
                                'Mulching: Recommended'
                            ]
                        },
                        bottleneck: 'Labor intensity, transplant shock, irrigation infrastructure'
                    },
                    {
                        title: 'Crop Management',
                        description: 'Staking, pruning, irrigation, and pest control',
                        icon: 'M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z',
                        position: { top: 50, left: 700 },
                        tooltip: {
                            title: 'Crop Management Details',
                            content: 'Staking supports plant growth. Regular pruning removes suckers. IPM controls whiteflies, aphids, and fruit borers.',
                            stats: [
                                'Water Requirement: 600-800 mm',
                                'Growing Period: 120-150 days',
                                'Harvest Duration: 60-90 days',
                                'Major Pests: Whitefly, aphids, borers'
                            ]
                        },
                        bottleneck: 'High disease pressure, labor-intensive management, pest resistance'
                    },
                    {
                        title: 'Harvesting',
                        description: 'Multiple harvests over 2-3 months',
                        icon: 'M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4',
                        position: { top: 180, left: 850 },
                        tooltip: {
                            title: 'Harvesting Details',
                            content: 'Tomatoes harvested at different maturity stages. Fresh market requires pink to red stage. Multiple harvests maximize yield.',
                            stats: [
                                'Harvest Frequency: Every 3-4 days',
                                'Harvest Period: 60-90 days',
                                'Yield: 40-80 tons/hectare',
                                'Maturity Stages: Green, pink, red'
                            ]
                        },
                        bottleneck: 'Labor-intensive harvesting, timing precision, handling care'
                    },
                    {
                        title: 'Post-Harvest Handling',
                        description: 'Washing, grading, and packaging',
                        icon: 'M7 11.5V14m0-2.5v-6a1.5 1.5 0 113 0m-3 6a1.5 1.5 0 00-3 0v2a7.5 7.5 0 0015 0v-5a1.5 1.5 0 00-3 0m-6-3V11m0-5.5v-1a1.5 1.5 0 013 0v1m0 0V11m0-5.5a1.5 1.5 0 013 0v3m0 0V11',
                        position: { top: 350, left: 850 },
                        tooltip: {
                            title: 'Post-Harvest Handling Details',
                            content: 'Proper washing removes field heat and contaminants. Size grading separates fruits. Careful handling prevents bruising.',
                            stats: [
                                'Washing Temperature: 15-20°C',
                                'Grading Categories: 4-5 sizes',
                                'Packaging: 5-20 kg crates',
                                'Quality Factor: Minimal bruising'
                            ]
                        },
                        bottleneck: 'Bruising during handling, cooling infrastructure, contamination control'
                    },
                    {
                        title: 'Processing',
                        description: 'Value addition through paste and sauce production',
                        icon: 'M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z M15 12a3 3 0 11-6 0 3 3 0 016 0z',
                        position: { top: 470, left: 700 },
                        tooltip: {
                            title: 'Processing Details',
                            content: 'Processing adds 300-500% value through paste and sauce production. Hot break and cold break processes. Aseptic packaging extends shelf life.',
                            stats: [
                                'Processing Recovery: 85-90%',
                                'Value Addition: 300-500%',
                                'Shelf Life: 12-24 months',
                                'Products: Paste, sauce, puree'
                            ]
                        },
                        bottleneck: 'Processing capacity, quality standardization, energy costs'
                    },
                    {
                        title: 'Cold Storage',
                        description: 'Temperature-controlled storage',
                        icon: 'M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4',
                        position: { top: 470, left: 500 },
                        tooltip: {
                            title: 'Cold Storage Details',
                            content: 'Storage at 10-12°C extends shelf life to 2-3 weeks. Controlled atmosphere storage improves quality retention. Proper humidity prevents moisture loss.',
                            stats: [
                                'Storage Temperature: 10-12°C',
                                'Humidity: 85-90%',
                                'Shelf Life: 2-3 weeks',
                                'Controlled Atmosphere: Further improvement'
                            ]
                        },
                        bottleneck: 'Cold storage infrastructure, energy costs, temperature control'
                    },
                    {
                        title: 'Distribution',
                        description: 'Transportation to wholesale and retail',
                        icon: 'M9 17a2 2 0 11-4 0 2 2 0 014 0zM19 17a2 2 0 11-4 0 2 2 0 014 0z M13 16V6a1 1 0 00-1-1H4a1 1 0 00-1 1v10a1 1 0 001 1h1m8-1a1 1 0 01-1 1H9m4-1V8a1 1 0 011-1h2.586a1 1 0 01.707.293l3.414 3.414a1 1 0 01.293.707V16a1 1 0 01-1 1h-1m-6-1a1 1 0 001 1h1M5 17a2 2 0 104 0m-4 0a2 2 0 114 0m6 0a2 2 0 104 0m-4 0a2 2 0 114 0',
                        position: { top: 470, left: 300 },
                        tooltip: {
                            title: 'Distribution Details',
                            content: 'Refrigerated transport maintains cold chain. Regional distribution centers reduce costs. Direct-to-retailer models improve margins.',
                            stats: [
                                'Transport Temperature: 10-15°C',
                                'Distribution Radius: 300-1000 km',
                                'Cold Chain Coverage: 60%',
                                'Distribution Tiers: 3-4 levels'
                            ]
                        },
                        bottleneck: 'Cold chain infrastructure, transport costs, timing coordination'
                    },
                    {
                        title: 'Retail Sales',
                        description: 'Fresh market and processed product sales',
                        icon: 'M8 14v3m4-3v3m4-3v3M3 21h18M3 10h18M3 7l9-4 9 4M4 10h16v11H4V10z',
                        position: { top: 470, left: 100 },
                        tooltip: {
                            title: 'Retail Sales Details',
                            content: 'Multiple retail channels serve different segments. Organic tomatoes command premium. Processed products have wider distribution.',
                            stats: [
                                'Fresh Market: 70%',
                                'Processing: 30%',
                                'Organic Premium: 40-60%',
                                'Retail Channels: 5+ types'
                            ]
                        },
                        bottleneck: 'Price volatility, quality perception, shelf life limitations'
                    }
                ],
                overview: {
                    title: 'Tomato Supply Chain Overview',
                    stats: [
                        { title: 'Pakistan Production', value: '575 Thousand', subtitle: 'Metric tons annually', color: 'olive-green' },
                        { title: 'Processing Potential', value: '30%', subtitle: 'Of total production', color: 'fresh-green' },
                        { title: 'Value Addition', value: '300-500%', subtitle: 'Through processing', color: 'reseda-green' }
                    ]
                }
            },
            'Mango': {
                stages: [
                    {
                        title: 'Orchard Management',
                        description: 'Pruning, fertilization, and pest control',
                        icon: 'M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z',
                        position: { top: 50, left: 100 },
                        tooltip: {
                            title: 'Mango Orchard Management Details',
                            content: 'Mature trees require annual pruning for optimal production. IPM controls fruit flies and scale insects. Balanced nutrition ensures consistent yields.',
                            stats: [
                                'Tree Spacing: 8m x 8m to 10m x 10m',
                                'Productive Life: 50-100 years',
                                'Yield: 15-25 tons/hectare',
                                'Pruning: Annual requirement'
                            ]
                        },
                        bottleneck: 'Irregular bearing patterns, pest pressure, climate variability'
                    },
                    {
                        title: 'Flowering & Fruit Set',
                        description: 'Managing flowering for optimal fruit development',
                        icon: 'M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z',
                        position: { top: 50, left: 300 },
                        tooltip: {
                            title: 'Flowering & Fruit Set Details',
                            content: 'Flowering occurs December to February. Proper pollination ensures good fruit set. Weather conditions critically affect yield.',
                            stats: [
                                'Flowering Period: December-February',
                                'Fruit Set: 1-3% of flowers',
                                'Pollination: Wind and insects',
                                'Weather Sensitivity: High'
                            ]
                        },
                        bottleneck: 'Weather dependency, low fruit set percentage, pollination issues'
                    },
                    {
                        title: 'Fruit Development',
                        description: 'Monitoring growth and applying protective measures',
                        icon: 'M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10',
                        position: { top: 50, left: 500 },
                        tooltip: {
                            title: 'Fruit Development Details',
                            content: 'Development takes 3-5 months from flowering. Bagging protects fruits from pests and improves skin quality. Thinning ensures larger fruit size.',
                            stats: [
                                'Development Period: 3-5 months',
                                'Fruit Weight: 200-800 grams',
                                'Bagging Coverage: 60-80%',
                                'Thinning: Improves size'
                            ]
                        },
                        bottleneck: 'Labor-intensive bagging, fruit drop, pest management'
                    },
                    {
                        title: 'Maturity Assessment',
                        description: 'Determining optimal harvest time',
                        icon: 'M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z',
                        position: { top: 50, left: 700 },
                        tooltip: {
                            title: 'Maturity Assessment Details',
                            content: 'Export mangoes harvested at 75-80% maturity. Domestic market fruits at 85-90% maturity. Shoulder development indicates maturity.',
                            stats: [
                                'Export Maturity: 75-80%',
                                'Domestic Maturity: 85-90%',
                                'Harvest Window: 15-20 days',
                                'Quality Indicators: Shoulder, color'
                            ]
                        },
                        bottleneck: 'Maturity assessment accuracy, timing coordination, quality standards'
                    },
                    {
                        title: 'Harvesting',
                        description: 'Careful hand-picking to prevent damage',
                        icon: 'M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4',
                        position: { top: 180, left: 850 },
                        tooltip: {
                            title: 'Harvesting Details',
                            content: 'Hand-picked with 2-3 cm stem to prevent sap burn. Early morning harvesting reduces field heat. Careful handling prevents bruising.',
                            stats: [
                                'Harvest Method: Hand-picking only',
                                'Stem Length: 2-3 cm',
                                'Harvest Time: Early morning',
                                'Quality Factor: No sap burn'
                            ]
                        },
                        bottleneck: 'Labor-intensive process, sap burn prevention, careful handling'
                    },
                    {
                        title: 'Post-Harvest Treatment',
                        description: 'Hot water treatment and ripening control',
                        icon: 'M7 11.5V14m0-2.5v-6a1.5 1.5 0 113 0m-3 6a1.5 1.5 0 00-3 0v2a7.5 7.5 0 0015 0v-5a1.5 1.5 0 00-3 0m-6-3V11m0-5.5v-1a1.5 1.5 0 013 0v1m0 0V11m0-5.5a1.5 1.5 0 013 0v3m0 0V11',
                        position: { top: 350, left: 850 },
                        tooltip: {
                            title: 'Post-Harvest Treatment Details',
                            content: 'Hot water treatment at 52°C for 5 minutes controls fruit flies. Controlled ripening with ethylene. Waxing improves appearance.',
                            stats: [
                                'Hot Water: 52°C for 5 minutes',
                                'Ripening Time: 5-7 days',
                                'Wax Application: 0.1-0.2%',
                                'Quality Control: Critical'
                            ]
                        },
                        bottleneck: 'Treatment infrastructure, ripening control, quality standardization'
                    },
                    {
                        title: 'Grading & Packaging',
                        description: 'Size grading and export-quality packaging',
                        icon: 'M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z M15 12a3 3 0 11-6 0 3 3 0 016 0z',
                        position: { top: 470, left: 700 },
                        tooltip: {
                            title: 'Grading & Packaging Details',
                            content: 'Export mangoes graded into 6-8 size categories. Individual fruit wrapping prevents damage. Corrugated boxes with ventilation.',
                            stats: [
                                'Size Categories: 6-8 grades',
                                'Export Packaging: 4-5 kg boxes',
                                'Individual Wrapping: 100% for export',
                                'Quality Standards: International'
                            ]
                        },
                        bottleneck: 'Grading precision, packaging costs, quality standardization'
                    },
                    {
                        title: 'Cold Storage',
                        description: 'Temperature-controlled storage for export',
                        icon: 'M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4',
                        position: { top: 470, left: 500 },
                        tooltip: {
                            title: 'Cold Storage Details',
                            content: 'Storage at 12-14°C extends shelf life to 3-4 weeks. Controlled atmosphere storage improves quality. Proper humidity maintains firmness.',
                            stats: [
                                'Storage Temperature: 12-14°C',
                                'Humidity: 85-90%',
                                'Shelf Life: 3-4 weeks',
                                'Controlled Atmosphere: Available'
                            ]
                        },
                        bottleneck: 'Cold storage infrastructure, energy costs, temperature precision'
                    },
                    {
                        title: 'Export & Distribution',
                        description: 'Air and sea freight to international markets',
                        icon: 'M9 17a2 2 0 11-4 0 2 2 0 014 0zM19 17a2 2 0 11-4 0 2 2 0 014 0z M13 16V6a1 1 0 00-1-1H4a1 1 0 00-1 1v10a1 1 0 001 1h1m8-1a1 1 0 01-1 1H9m4-1V8a1 1 0 011-1h2.586a1 1 0 01.707.293l3.414 3.414a1 1 0 01.293.707V16a1 1 0 01-1 1h-1m-6-1a1 1 0 001 1h1M5 17a2 2 0 104 0m-4 0a2 2 0 114 0m6 0a2 2 0 104 0m-4 0a2 2 0 114 0',
                        position: { top: 470, left: 300 },
                        tooltip: {
                            title: 'Export & Distribution Details',
                            content: 'Air freight for premium markets takes 1-2 days. Sea freight takes 15-20 days. Reefer containers maintain cold chain.',
                            stats: [
                                'Air Freight: 1-2 days',
                                'Sea Freight: 15-20 days',
                                'Export Markets: 25+ countries',
                                'Documentation: Phytosanitary required'
                            ]
                        },
                        bottleneck: 'High logistics costs, documentation complexity, quality maintenance'
                    },
                    {
                        title: 'Retail Markets',
                        description: 'Premium positioning in international markets',
                        icon: 'M8 14v3m4-3v3m4-3v3M3 21h18M3 10h18M3 7l9-4 9 4M4 10h16v11H4V10z',
                        position: { top: 470, left: 100 },
                        tooltip: {
                            title: 'Retail Markets Details',
                            content: 'Pakistani mangoes command premium prices internationally. Brand development enhances positioning. Organic certification adds premium.',
                            stats: [
                                'Export Value: $120 million annually',
                                'Premium Markets: Europe, Middle East',
                                'Organic Premium: 30-50%',
                                'Brand Recognition: Growing'
                            ]
                        },
                        bottleneck: 'Brand recognition, quality consistency, international competition'
                    }
                ],
                overview: {
                    title: 'Mango Supply Chain Overview',
                    stats: [
                        { title: 'Pakistan Production', value: '1.9 Million', subtitle: 'Metric tons annually', color: 'olive-green' },
                        { title: 'Export Value', value: '$120 Million', subtitle: 'Annual export earnings', color: 'fresh-green' },
                        { title: 'Premium Markets', value: '25+ Countries', subtitle: 'International destinations', color: 'reseda-green' }
                    ]
                }
            },
            'Apple': {
                stages: [
                    {
                        title: 'Orchard Establishment',
                        description: 'Planting apple trees in mountainous regions',
                        icon: 'M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z',
                        position: { top: 50, left: 100 },
                        tooltip: {
                            content: 'In Pakistan, apple orchards are primarily established in high-altitude areas such as Balochistan (e.g., Ziarat, Kalat) and Gilgit-Baltistan, where the cold climate supports apple cultivation. The establishment phase involves selecting suitable apple varieties like Kala Kulu, Amri, Mashadi, and Golden Delicious, and preparing land through terracing, soil conditioning, and water management. Grafted saplings are planted during the dormant season (usually late winter) to ensure healthy root development and long-term productivity.',
                            stats: [
                                'Altitude: 1500-3000 meters',
                                'Tree Spacing: 3m x 4m to 4m x 5m',
                                'Productive Life: 25-30 years',
                                'Initial Investment: High'
                            ]
                        },
                        bottleneck: ''
                    },
                    {
                        title: 'Orchard Management',
                        description: 'Pruning, training, and canopy management in local contexts',
                        icon: 'M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z',
                        position: { top: 50, left: 300 },
                        tooltip: {
                            content: 'Pakistani apple orchards often face challenges like uneven rainfall and limited mechanization, making regular manual pruning and training essential. Farmers use traditional and modern methods to shape trees for better sunlight exposure and airflow, which helps prevent diseases such as scab and powdery mildew. Canopy management is also key to improving fruit quality and simplifying harvesting in sloped terrains.',
                            stats: [
                                'Pruning Season: December-February',
                                'Training Systems: Spindle bush, central leader',
                                'Yield: 20-40 tons/hectare',
                                'Pest Management: IPM approach'
                            ]
                        },
                        bottleneck: 'Pest and disease management, such as codling moth, apple scab ,Weather changes: droughts, floods, extreme weather conditions,Poor irrigation due to the Karez system.'
                    },
                    {
                        title: 'Flowering & Pollination',
                        description: 'Managing bloom and ensuring cross-pollination',
                        icon: 'M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10',
                        position: { top: 50, left: 500 },
                        tooltip: {
                            content: 'Most apple varieties in Pakistan require cross-pollination, which occurs during the spring bloom season. Beekeeping is increasingly integrated into farms, especially in areas like Swat and Ziarat, to enhance pollination through natural agents. Farmers monitor blooming periods and manage orchard biodiversity to support pollinator activity, critical for setting a healthy crop.',
                            stats: [
                                'Flowering: April-May',
                                'Cross-pollination: Essential',
                                'Bee Colonies: 2-3 hives/hectare',
                                'Weather Sensitivity: High'
                            ]
                        },
                        bottleneck: 'pest and disease management such as codling moth, apple scrab ,Flowers are highly climate-sensitive: frost or temperature swings damage them,Pollination failure due to declining bee populations and poor biodiversity'
                    },
                    {
                        title: 'Fruit Development',
                        description: 'Thinning, bagging, and growth monitoring',
                        icon: 'M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z',
                        position: { top: 50, left: 700 },
                        tooltip: {
                            content: 'Once flowering is complete, early-stage fruit requires careful management. Farmers in Pakistan often manually thin excessive fruit to ensure optimal size and appearance. In areas with higher pest risks, like in Balochistan, protective fruit bagging is used to reduce sunburn and insect damage. Growth progress is tracked through field visits, and nutrient management is done using regionally adapted fertilization schedules.',
                            stats: [
                                'Development: 4-6 months',
                                'Thinning: 1-2 fruits per cluster',
                                'Bagging: 80-90% for premium',
                                'Labor Intensity: High'
                            ]
                        },
                        bottleneck: 'Labor-intensive operations, timing precision, weather protection'
                    },
                    {
                        title: 'Harvesting',
                        description: 'Hand-picking at optimal maturity',
                        icon: 'M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4',
                        position: { top: 180, left: 850 },
                        tooltip: {
                            content: 'Harvesting usually takes place between July and October, depending on the region and variety. Apples are hand-picked by local laborers, who have years of experience handling fruit without bruising it. Since mechanical harvesting is rare in Pakistan, skilled manual harvesting ensures that only fully mature, high-quality fruit is selected for the market.',
                            stats: [
                                'Harvest Period: August-October',
                                'Harvest Rounds: 2-3 per variety',
                                'Handling: Soft-catch systems',
                                'Quality Factor: No bruising'
                            ]
                        },
                        bottleneck: 'Lack of storage at farm level forces immediate sale at lower prices'
                    },
                    {
                        title: 'Post-Harvest Handling',
                        description: 'Washing, grading, and initial processing',
                        icon: 'M7 11.5V14m0-2.5v-6a1.5 1.5 0 113 0m-3 6a1.5 1.5 0 00-3 0v2a7.5 7.5 0 0015 0v-5a1.5 1.5 0 00-3 0m-6-3V11m0-5.5v-1a1.5 1.5 0 013 0v1m0 0V11m0-5.5a1.5 1.5 0 013 0v3m0 0V11',
                        position: { top: 350, left: 850 },
                        tooltip: {
                            content: 'Post-harvest handling begins at the farm or nearby collection centers, where apples are cleaned, graded manually or with basic machines, and sorted based on size, color, and quality. Though some small farms use traditional packaging, modern export-focused farms apply food safety protocols and may also apply surface treatments like waxing.',
                            stats: [
                                'Cooling: Within 4-6 hours',
                                'Washing: Chlorinated water',
                                'Grading: 5-6 size categories',
                                'Quality Control: Critical'
                            ]
                        },
                        bottleneck: ''
                    },
                    {
                        title: 'Cold Storage',
                        description: 'Controlled atmosphere storage',
                        icon: 'M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z M15 12a3 3 0 11-6 0 3 3 0 016 0z',
                        position: { top: 470, left: 700 },
                        tooltip: {
                            content: 'Cold storage infrastructure is growing in Pakistan, especially in Quetta, Pishin, and Swat, helping extend the shelf life of apples for domestic and export markets. Controlled atmosphere (CA) storage is used by larger producers and exporters to maintain freshness, reduce spoilage, and stabilize prices by distributing fruit over time instead of flooding the market at harvest.',
                            stats: [
                                'Temperature: 0-2°C',
                                'Oxygen Level: 1-3%',
                                'Storage Life: 8-12 months',
                                'Infrastructure: High investment'
                            ]
                        },
                        bottleneck: 'High infrastructure costs, technical expertise, energy requirements'
                    },
                    {
                        title: 'Packaging',
                        description: 'Consumer packaging for retail and export',
                        icon: 'M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4',
                        position: { top: 470, left: 500 },
                        tooltip: {
                            content: 'Apples are packed into wooden crates, cardboard boxes, or plastic trays, depending on the target market. Domestic markets often use traditional open crates, while export-quality apples are packed in ventilated, standardized packaging with branding, barcodes, and grading labels. Proper packaging is essential to prevent bruising during long-distance transport and appeal to quality-conscious consumers.',
                            stats: [
                                'Export: 18-20 kg boxes',
                                'Retail: 1-5 kg units',
                                'Individual Wrapping: Premium grades',
                                'Branding: Value addition'
                            ]
                        },
                        bottleneck: 'Packaging costs, quality standards, branding development'
                    },
                    {
                        title: 'Distribution',
                        description: 'Transportation to domestic and export markets',
                        icon: 'M9 17a2 2 0 11-4 0 2 2 0 014 0zM19 17a2 2 0 11-4 0 2 2 0 014 0z M13 16V6a1 1 0 00-1-1H4a1 1 0 00-1 1v10a1 1 0 001 1h1m8-1a1 1 0 01-1 1H9m4-1V8a1 1 0 011-1h2.586a1 1 0 01.707.293l3.414 3.414a1 1 0 01.293.707V16a1 1 0 01-1 1h-1m-6-1a1 1 0 001 1h1M5 17a2 2 0 104 0m-4 0a2 2 0 114 0m6 0a2 2 0 104 0m-4 0a2 2 0 114 0',
                        position: { top: 470, left: 300 },
                        tooltip: {
                            content: 'From farms in Balochistan and Gilgit-Baltistan, apples travel through wholesale markets in Lahore, Karachi, Islamabad, and Peshawar. For exports, apples are routed via road or rail to port cities like Karachi, where they\'re shipped primarily to Middle Eastern countries. Cold-chain logistics are still developing, and efforts are being made to reduce post-harvest losses during transportation.',
                            stats: [
                                'Transport: 0-4°C',
                                'Distribution: 500-2000 km',
                                'Export Markets: Middle East, Central Asia',
                                'Documentation: Required'
                            ]
                        },
                        bottleneck: 'Poor road connectivity (especially in mountainous areas),Overloaded vehicles cause damage in transit,Unrefrigerated transport leads to spoilage'
                    },
                    {
                        title: 'Retail Sales',
                        description: 'Premium positioning in markets',
                        icon: 'M8 14v3m4-3v3m4-3v3M3 21h18M3 10h18M3 7l9-4 9 4M4 10h16v11H4V10z',
                        position: { top: 470, left: 100 },
                        tooltip: {
                            content: 'Apples grown in Pakistan reach consumers through fruit mandis (wholesale markets), retail fruit vendors, supermarkets, and increasingly via online grocery platforms. Premium varieties like Kala Kulu from Ziarat or Golden Delicious from Hunza are marketed as high-quality local produce. As awareness of hygiene and branding grows, demand for properly packaged, traceable apples is also increasing among urban consumers.',
                            stats: [
                                'Domestic Market: 70%',
                                'Export Value: $15 million',
                                'Premium Varieties: Red, Golden Delicious',
                                'Competition: Import pressure'
                            ]
                        },
                        bottleneck: 'Import competition, quality perception, limited brand recognition'
                    }
                ],
                overview: {
                    title: 'Apple Supply Chain Overview',
                    stats: [
                        { title: 'Pakistan Production', value: '600 Thousand', subtitle: 'Metric tons annually', color: 'olive-green' },
                        { title: 'Growing Regions', value: 'Northern Areas', subtitle: 'High-altitude orchards', color: 'fresh-green' },
                        { title: 'Storage Potential', value: '8-12 Months', subtitle: 'With controlled atmosphere', color: 'reseda-green' }
                    ]
                }
            },

            'Orange': {
                stages: [
                    {
                        title: 'Orchard Management',
                        description: 'Citrus orchard establishment and maintenance',
                        icon: 'M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z',
                        position: { top: 50, left: 100 },
                        tooltip: {
                            title: 'Orange Orchard Management Details',
                            content: 'Orchards established in subtropical regions with well-drained soils. Trees productive for 30-50 years. IPM controls citrus canker and scale insects.',
                            stats: [
                                'Tree Spacing: 5m x 5m to 6m x 6m',
                                'Productive Life: 30-50 years',
                                'Yield: 15-30 tons/hectare',
                                'Soil Requirement: Well-drained'
                            ]
                        },
                        bottleneck: 'Disease pressure, water management, soil salinity issues'
                    },
                    {
                        title: 'Flowering & Fruit Set',
                        description: 'Managing bloom cycles and fruit development',
                        icon: 'M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z',
                        position: { top: 50, left: 300 },
                        tooltip: {
                            title: 'Flowering & Fruit Set Details',
                            content: 'Multiple flowering times per year with main bloom in spring. Self-pollination occurs but cross-pollination improves fruit set.',
                            stats: [
                                'Main Flowering: February-April',
                                'Fruit Set: 2-5% of flowers',
                                'Development: 8-12 months',
                                'Weather Sensitivity: High'
                            ]
                        },
                        bottleneck: 'Weather dependency, natural fruit drop, pollination challenges'
                    },
                    {
                        title: 'Crop Management',
                        description: 'Irrigation, fertilization, and pest control',
                        icon: 'M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10',
                        position: { top: 50, left: 500 },
                        tooltip: {
                            title: 'Crop Management Details',
                            content: 'Drip irrigation provides efficient water management. Balanced nutrition with micronutrients prevents deficiency disorders. IPM controls citrus psyllid.',
                            stats: [
                                'Water Requirement: 1200-1500 mm/year',
                                'Fertilizer: 4-6 applications/year',
                                'Pruning: Annual light pruning',
                                'Micronutrients: Critical'
                            ]
                        },
                        bottleneck: 'Water quality issues, micronutrient deficiencies, emerging pests'
                    },
                    {
                        title: 'Maturity Assessment',
                        description: 'Determining optimal harvest time',
                        icon: 'M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z',
                        position: { top: 50, left: 700 },
                        tooltip: {
                            title: 'Maturity Assessment Details',
                            content: 'Maturity determined by sugar-acid ratio, color development, and juice content. Different markets require different standards.',
                            stats: [
                                'Sugar Content: 10-12 Brix minimum',
                                'Acid Content: 0.8-1.2%',
                                'Juice Content: 45-55%',
                                'Color Development: Critical'
                            ]
                        },
                        bottleneck: 'Maturity assessment accuracy, varying market standards'
                    },
                    {
                        title: 'Harvesting',
                        description: 'Hand-picking with proper techniques',
                        icon: 'M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4',
                        position: { top: 180, left: 850 },
                        tooltip: {
                            title: 'Harvesting Details',
                            content: 'Hand-picked using clippers to avoid stem-end damage. Harvest bags prevent fruit damage. Multiple harvests over 2-3 months.',
                            stats: [
                                'Method: Hand-picking with clippers',
                                'Period: November-March',
                                'Rounds: 3-4 per season',
                                'Quality Factor: No stem damage'
                            ]
                        },
                        bottleneck: 'Labor-intensive process, careful handling requirements'
                    },
                    {
                        title: 'Post-Harvest Processing',
                        description: 'Washing, waxing, and grading',
                        icon: 'M7 11.5V14m0-2.5v-6a1.5 1.5 0 113 0m-3 6a1.5 1.5 0 00-3 0v2a7.5 7.5 0 0015 0v-5a1.5 1.5 0 00-3 0m-6-3V11m0-5.5v-1a1.5 1.5 0 013 0v1m0 0V11m0-5.5a1.5 1.5 0 013 0v3m0 0V11',
                        position: { top: 350, left: 850 },
                        tooltip: {
                            title: 'Post-Harvest Processing Details',
                            content: 'Washing removes dirt and residues. Waxing improves appearance and reduces moisture loss. Automated grading sorts by size and quality.',
                            stats: [
                                'Washing: Chlorinated water',
                                'Waxing: Food-grade wax',
                                'Grading: 5-6 categories',
                                'Quality Control: Critical'
                            ]
                        },
                        bottleneck: 'Processing infrastructure, quality control, grading precision'
                    },
                    {
                        title: 'Juice Processing',
                        description: 'Extraction for juice and concentrate',
                        icon: 'M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z M15 12a3 3 0 11-6 0 3 3 0 016 0z',
                        position: { top: 470, left: 700 },
                        tooltip: {
                            title: 'Juice Processing Details',
                            content: 'Modern extraction achieves 85-90% juice recovery. Pasteurization ensures safety. Concentrate production reduces storage costs.',
                            stats: [
                                'Juice Recovery: 85-90%',
                                'Capacity: 10-50 tons/hour',
                                'Concentrate: 65-72 Brix',
                                'Value Addition: 150-250%'
                            ]
                        },
                        bottleneck: 'Processing capacity, quality preservation, energy requirements'
                    },
                    {
                        title: 'Packaging',
                        description: 'Consumer packaging for fresh and processed',
                        icon: 'M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4',
                        position: { top: 470, left: 500 },
                        tooltip: {
                            title: 'Packaging Details',
                            content: 'Fresh oranges packed in mesh bags or cartons. Juice products use aseptic packaging. Branding differentiates products.',
                            stats: [
                                'Fresh: 2-20 kg units',
                                'Juice: 200ml-1L containers',
                                'Shelf Life: 2-4 weeks (fresh)',
                                'Aseptic: 12 months (juice)'
                            ]
                        },
                        bottleneck: 'Packaging costs, shelf life optimization, brand development'
                    },
                    {
                        title: 'Distribution',
                        description: 'Cold chain distribution',
                        icon: 'M9 17a2 2 0 11-4 0 2 2 0 014 0zM19 17a2 2 0 11-4 0 2 2 0 014 0z M13 16V6a1 1 0 00-1-1H4a1 1 0 00-1 1v10a1 1 0 001 1h1m8-1a1 1 0 01-1 1H9m4-1V8a1 1 0 011-1h2.586a1 1 0 01.707.293l3.414 3.414a1 1 0 01.293.707V16a1 1 0 01-1 1h-1m-6-1a1 1 0 001 1h1M5 17a2 2 0 104 0m-4 0a2 2 0 114 0m6 0a2 2 0 104 0m-4 0a2 2 0 114 0',
                        position: { top: 470, left: 300 },
                        tooltip: {
                            title: 'Distribution Details',
                            content: 'Cold storage at 4-8°C extends fresh fruit shelf life. Juice products require ambient or refrigerated distribution.',
                            stats: [
                                'Storage: 4-8°C (fresh)',
                                'Distribution: 500-1500 km',
                                'Export Markets: Middle East',
                                'Cold Chain: Critical'
                            ]
                        },
                        bottleneck: 'Cold chain infrastructure, quality consistency, export compliance'
                    },
                    {
                        title: 'Retail & Processing',
                        description: 'Fresh market and industrial processing',
                        icon: 'M8 14v3m4-3v3m4-3v3M3 21h18M3 10h18M3 7l9-4 9 4M4 10h16v11H4V10z',
                        position: { top: 470, left: 100 },
                        tooltip: {
                            title: 'Retail & Processing Details',
                            content: 'Fresh oranges compete with imports. Processing into juice and concentrate adds value. Export potential for both fresh and processed.',
                            stats: [
                                'Fresh Market: 60%',
                                'Processing: 40%',
                                'Value Addition: 150-250%',
                                'Export Potential: $80 million'
                            ]
                        },
                        bottleneck: 'Import competition, limited processing capacity'
                    }
                ],
                overview: {
                    title: 'Orange Supply Chain Overview',
                    stats: [
                        { title: 'Pakistan Production', value: '1.6 Million', subtitle: 'Metric tons annually', color: 'olive-green' },
                        { title: 'Processing Potential', value: '40%', subtitle: 'For juice and concentrate', color: 'fresh-green' },
                        { title: 'Export Opportunity', value: '$80 Million', subtitle: 'Annual export potential', color: 'reseda-green' }
                    ]
                }
            },
            'Lentils': {
                stages: [
                    {
                        title: 'Seed Selection',
                        description: 'Selecting certified lentil varieties',
                        icon: 'M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z',
                        position: { top: 50, left: 100 },
                        tooltip: {
                            title: 'Lentil Seed Selection Details',
                            content: 'Certified seeds ensure uniform germination and disease resistance. Different varieties selected for cooking quality and market demand.',
                            stats: [
                                'Seed Rate: 25-30 kg/hectare',
                                'Germination: 85-90%',
                                'Varieties: Red, black, green',
                                'Certification: Required'
                            ]
                        },
                        bottleneck: 'Limited certified seed availability, variety-specific demands'
                    },
                    {
                        title: 'Land Preparation',
                        description: 'Soil preparation and field conditioning',
                        icon: 'M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z',
                        position: { top: 50, left: 300 },
                        tooltip: {
                            title: 'Land Preparation Details',
                            content: 'Well-drained soils with pH 6.0-7.5 optimal. Shallow tillage preserves moisture. Rhizobium inoculation enhances nitrogen fixation.',
                            stats: [
                                'Optimal pH: 6.0-7.5',
                                'Tillage: 15-20 cm depth',
                                'Inoculation: Rhizobium bacteria',
                                'Drainage: Critical'
                            ]
                        },
                        bottleneck: 'Poor drainage, soil pH issues, inoculant availability'
                    },
                    {
                        title: 'Sowing',
                        description: 'Planting at optimal depth and spacing',
                        icon: 'M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10',
                        position: { top: 50, left: 500 },
                        tooltip: {
                            title: 'Sowing Details',
                            content: 'Sown at 2-3 cm depth with 20-25 cm row spacing. October-November sowing ensures optimal conditions. Seed treatment prevents diseases.',
                            stats: [
                                'Sowing Depth: 2-3 cm',
                                'Row Spacing: 20-25 cm',
                                'Sowing Time: October-November',
                                'Seed Treatment: Recommended'
                            ]
                        },
                        bottleneck: 'Timing precision, seed placement accuracy, weather dependency'
                    },
                    {
                        title: 'Crop Management',
                        description: 'Minimal irrigation and pest control',
                        icon: 'M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z',
                        position: { top: 50, left: 700 },
                        tooltip: {
                            title: 'Crop Management Details',
                            content: 'Drought-tolerant crop requiring minimal irrigation. Weed control critical in early stages. Aphid and pod borer management essential.',
                            stats: [
                                'Water Requirement: 300-400 mm',
                                'Growing Period: 90-120 days',
                                'Irrigation: 1-2 times if needed',
                                'Major Pests: Aphids, pod borers'
                            ]
                        },
                        bottleneck: 'Weed competition, pest outbreaks, drought stress'
                    },
                    {
                        title: 'Harvesting',
                        description: 'Harvesting when pods are mature',
                        icon: 'M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4',
                        position: { top: 180, left: 850 },
                        tooltip: {
                            title: 'Harvesting Details',
                            content: 'Harvested when pods turn brown and rattle. Early morning harvesting reduces shattering. Combine harvesters used for large areas.',
                            stats: [
                                'Harvest Indicator: Brown, dry pods',
                                'Harvest Time: Early morning',
                                'Yield: 1.5-2.5 tons/hectare',
                                'Shattering Loss: Minimize'
                            ]
                        },
                        bottleneck: 'Shattering losses, narrow harvest window, weather dependency'
                    },
                    {
                        title: 'Threshing',
                        description: 'Separating seeds from pods',
                        icon: 'M7 11.5V14m0-2.5v-6a1.5 1.5 0 113 0m-3 6a1.5 1.5 0 00-3 0v2a7.5 7.5 0 0015 0v-5a1.5 1.5 0 00-3 0m-6-3V11m0-5.5v-1a1.5 1.5 0 113 0v1m0 0V11m0-5.5a1.5 1.5 0 113 0v3m0 0V11',
                        position: { top: 350, left: 850 },
                        tooltip: {
                            title: 'Threshing Details',
                            content: 'Mechanical threshing separates seeds efficiently. Proper adjustment prevents damage. Winnowing removes chaff and debris.',
                            stats: [
                                'Threshing Efficiency: 95-98%',
                                'Seed Damage: <2%',
                                'Cleaning: Multiple winnowing',
                                'Quality Factor: Minimal damage'
                            ]
                        },
                        bottleneck: 'Seed damage, cleaning efficiency, equipment availability'
                    },
                    {
                        title: 'Cleaning & Grading',
                        description: 'Removing impurities and size grading',
                        icon: 'M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z M15 12a3 3 0 11-6 0 3 3 0 016 0z',
                        position: { top: 470, left: 700 },
                        tooltip: {
                            title: 'Cleaning & Grading Details',
                            content: 'Multi-stage cleaning removes stones and foreign matter. Size grading separates into market categories. Color sorting removes discolored seeds.',
                            stats: [
                                'Cleaning Efficiency: 99%+',
                                'Size Categories: 3-4 grades',
                                'Foreign Matter: <1%',
                                'Color Sorting: Available'
                            ]
                        },
                        bottleneck: 'Cleaning equipment costs, grading precision, quality standards'
                    },
                    {
                        title: 'Storage',
                        description: 'Proper storage to maintain quality',
                        icon: 'M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4',
                        position: { top: 470, left: 500 },
                        tooltip: {
                            title: 'Storage Details',
                            content: 'Moisture below 12% prevents mold. Hermetic storage prevents insects. Temperature control maintains quality and viability.',
                            stats: [
                                'Moisture: <12%',
                                'Temperature: 15-20°C',
                                'Storage Life: 12-18 months',
                                'Pest Control: Hermetic storage'
                            ]
                        },
                        bottleneck: 'Moisture control, pest management, storage infrastructure'
                    },
                    {
                        title: 'Processing',
                        description: 'Dehulling and splitting',
                        icon: 'M9 17a2 2 0 11-4 0 2 2 0 014 0zM19 17a2 2 0 11-4 0 2 2 0 014 0z M13 16V6a1 1 0 00-1-1H4a1 1 0 00-1 1v10a1 1 0 001 1h1m8-1a1 1 0 01-1 1H9m4-1V8a1 1 0 011-1h2.586a1 1 0 01.707.293l3.414 3.414a1 1 0 01.293.707V16a1 1 0 01-1 1h-1m-6-1a1 1 0 001 1h1M5 17a2 2 0 104 0m-4 0a2 2 0 114 0m6 0a2 2 0 104 0m-4 0a2 2 0 114 0',
                        position: { top: 470, left: 300 },
                        tooltip: {
                            title: 'Processing Details',
                            content: 'Dehulling removes outer coat for split lentils. Different processing methods produce whole, split, and flour products. Value addition increases price.',
                            stats: [
                                'Dehulling Recovery: 85-90%',
                                'Products: Whole, split, flour',
                                'Value Addition: 50-100%',
                                'Processing Capacity: Variable'
                            ]
                        },
                        bottleneck: 'Processing capacity, quality control, market segmentation'
                    },
                    {
                        title: 'Marketing',
                        description: 'Domestic and export sales',
                        icon: 'M8 14v3m4-3v3m4-3v3M3 21h18M3 10h18M3 7l9-4 9 4M4 10h16v11H4V10z',
                        position: { top: 470, left: 100 },
                        tooltip: {
                            title: 'Marketing Details',
                            content: 'Sold through wholesale markets and retail chains. Organic certification commands premium. Brand development enhances positioning.',
                            stats: [
                                'Domestic Market: 80%',
                                'Export Market: 20%',
                                'Organic Premium: 30-50%',
                                'Protein Content: 24-26%'
                            ]
                        },
                        bottleneck: 'Price volatility, quality certification, limited export markets'
                    }
                ],
                overview: {
                    title: 'Lentils Supply Chain Overview',
                    stats: [
                        { title: 'Pakistan Production', value: '300 Thousand', subtitle: 'Metric tons annually', color: 'olive-green' },
                        { title: 'Protein Content', value: '24-26%', subtitle: 'High nutritional value', color: 'fresh-green' },
                        { title: 'Export Potential', value: '$150 Million', subtitle: 'Annual export opportunity', color: 'reseda-green' }
                    ]
                }
            },
            'Maize': {
                stages: [
                    {
                        title: 'Seed Selection',
                        description: 'Selecting hybrid maize varieties',
                        icon: 'M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z',
                        position: { top: 50, left: 100 },
                        tooltip: {
                            title: 'Maize Seed Selection Details',
                            content: 'Hybrid varieties offer 20-30% higher yields. Different hybrids selected for maturity, disease resistance, and end-use. Seed treatment prevents diseases.',
                            stats: [
                                'Seed Rate: 20-25 kg/hectare',
                                'Germination: 90-95%',
                                'Hybrid Advantage: 20-30% yield',
                                'Varieties: Multiple hybrids'
                            ]
                        },
                        bottleneck: 'High seed costs, variety-specific requirements, seed availability'
                    },
                    {
                        title: 'Land Preparation',
                        description: 'Deep plowing and field preparation',
                        icon: 'M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z',
                        position: { top: 50, left: 300 },
                        tooltip: {
                            title: 'Land Preparation Details',
                            content: 'Deep plowing improves root ***** and water infiltration. Ridge and furrow system facilitates irrigation. Organic matter incorporation enhances fertility.',
                            stats: [
                                'Plowing Depth: 25-30 cm',
                                'Ridge Height: 15-20 cm',
                                'Organic Matter: 10-15 tons/hectare',
                                'Field Preparation: 2-3 weeks'
                            ]
                        },
                        bottleneck: 'Soil compaction, drainage issues, equipment costs'
                    },
                    {
                        title: 'Sowing',
                        description: 'Planting at optimal depth and spacing',
                        icon: 'M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10',
                        position: { top: 50, left: 500 },
                        tooltip: {
                            title: 'Sowing Details',
                            content: 'Seeds planted 3-5 cm deep with 20-25 cm spacing. Row spacing of 60-75 cm allows mechanization. Precision planters ensure uniformity.',
                            stats: [
                                'Sowing Depth: 3-5 cm',
                                'Plant Spacing: 20-25 cm',
                                'Row Spacing: 60-75 cm',
                                'Plant Population: 65,000-75,000/hectare'
                            ]
                        },
                        bottleneck: 'Planting precision, equipment availability, seasonal timing'
                    },
                    {
                        title: 'Crop Management',
                        description: 'Irrigation, fertilization, and pest control',
                        icon: 'M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z',
                        position: { top: 50, left: 700 },
                        tooltip: {
                            title: 'Crop Management Details',
                            content: 'Adequate water during tasseling and grain filling critical. Balanced nutrition with NPK ensures optimal growth. IPM controls stem borers and fall armyworm.',
                            stats: [
                                'Water Requirement: 500-800 mm',
                                'Growing Period: 90-120 days',
                                'Fertilizer: 3-4 split applications',
                                'Major Pests: Stem borer, fall armyworm'
                            ]
                        },
                        bottleneck: 'Water stress during critical stages, pest management, nutrient timing'
                    },
                    {
                        title: 'Harvesting',
                        description: 'Harvesting at optimal grain moisture',
                        icon: 'M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4',
                        position: { top: 180, left: 850 },
                        tooltip: {
                            title: 'Harvesting Details',
                            content: 'Harvested when grain moisture is 20-25% for drying or 14-16% for direct storage. Combine harvesters increase efficiency.',
                            stats: [
                                'Harvest Moisture: 20-25% (wet)',
                                'Direct Storage: 14-16%',
                                'Yield: 6-12 tons/hectare',
                                'Harvest Window: 10-15 days'
                            ]
                        },
                        bottleneck: 'Moisture timing, equipment availability, weather dependency'
                    },
                    {
                        title: 'Drying',
                        description: 'Reducing moisture for safe storage',
                        icon: 'M7 11.5V14m0-2.5v-6a1.5 1.5 0 113 0m-3 6a1.5 1.5 0 00-3 0v2a7.5 7.5 0 0015 0v-5a1.5 1.5 0 00-3 0m-6-3V11m0-5.5v-1a1.5 1.5 0 113 0v1m0 0V11m0-5.5a1.5 1.5 0 113 0v3m0 0V11',
                        position: { top: 350, left: 850 },
                        tooltip: {
                            title: 'Drying Details',
                            content: 'Artificial drying reduces moisture from 25% to 14%. Solar drying cost-effective but weather-dependent. Proper drying prevents mold.',
                            stats: [
                                'Target Moisture: 14%',
                                'Drying Rate: 1-2% per day',
                                'Energy Cost: 15-20% of value',
                                'Quality Factor: Mold prevention'
                            ]
                        },
                        bottleneck: 'High drying costs, weather dependency, quality control'
                    },
                    {
                        title: 'Storage',
                        description: 'Proper storage to prevent losses',
                        icon: 'M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z M15 12a3 3 0 11-6 0 3 3 0 016 0z',
                        position: { top: 470, left: 700 },
                        tooltip: {
                            title: 'Storage Details',
                            content: 'Proper storage maintains quality and prevents pest damage. Hermetic storage prevents insects. Temperature and moisture monitoring essential.',
                            stats: [
                                'Storage Moisture: 14% maximum',
                                'Temperature: 15-20°C',
                                'Storage Life: 12-18 months',
                                'Pest Control: Hermetic systems'
                            ]
                        },
                        bottleneck: 'Storage infrastructure, pest management, moisture control'
                    },
                    {
                        title: 'Processing',
                        description: 'Value addition through milling and feed',
                        icon: 'M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4',
                        position: { top: 470, left: 500 },
                        tooltip: {
                            title: 'Processing Details',
                            content: 'Dry milling produces flour and grits. Wet milling extracts starch and oil. Feed processing creates balanced animal feeds.',
                            stats: [
                                'Milling Recovery: 80-85%',
                                'Products: Flour, starch, feed',
                                'Value Addition: 100-200%',
                                'Feed Industry: Major buyer'
                            ]
                        },
                        bottleneck: 'Processing capacity, quality standardization, market segmentation'
                    },
                    {
                        title: 'Distribution',
                        description: 'Transportation to feed mills and processors',
                        icon: 'M9 17a2 2 0 11-4 0 2 2 0 014 0zM19 17a2 2 0 11-4 0 2 2 0 014 0z M13 16V6a1 1 0 00-1-1H4a1 1 0 00-1 1v10a1 1 0 001 1h1m8-1a1 1 0 01-1 1H9m4-1V8a1 1 0 011-1h2.586a1 1 0 01.707.293l3.414 3.414a1 1 0 01.293.707V16a1 1 0 01-1 1h-1m-6-1a1 1 0 001 1h1M5 17a2 2 0 104 0m-4 0a2 2 0 114 0m6 0a2 2 0 104 0m-4 0a2 2 0 114 0',
                        position: { top: 470, left: 300 },
                        tooltip: {
                            title: 'Distribution Details',
                            content: 'Bulk transportation reduces costs. Feed mills are major buyers for poultry industry. Food processors use for various products.',
                            stats: [
                                'Feed Industry: 70%',
                                'Food Processing: 20%',
                                'Export: 10%',
                                'Transport: Bulk systems'
                            ]
                        },
                        bottleneck: 'Transport infrastructure, quality maintenance, market concentration'
                    },
                    {
                        title: 'End Use Markets',
                        description: 'Feed industry, food processing, export',
                        icon: 'M8 14v3m4-3v3m4-3v3M3 21h18M3 10h18M3 7l9-4 9 4M4 10h16v11H4V10z',
                        position: { top: 470, left: 100 },
                        tooltip: {
                            title: 'End Use Markets Details',
                            content: 'Poultry and livestock feed industries are major consumers. Food processing creates corn flakes and starch. Export markets offer premium prices.',
                            stats: [
                                'Poultry Feed: 50%',
                                'Livestock Feed: 20%',
                                'Food Processing: 20%',
                                'Export: Growing market'
                            ]
                        },
                        bottleneck: 'Feed industry concentration, processing limitations, export competitiveness'
                    }
                ],
                overview: {
                    title: 'Maize Supply Chain Overview',
                    stats: [
                        { title: 'Pakistan Production', value: '6 Million', subtitle: 'Metric tons annually', color: 'olive-green' },
                        { title: 'Feed Industry Share', value: '70%', subtitle: 'Of total production', color: 'fresh-green' },
                        { title: 'Yield Potential', value: '12 tons/hectare', subtitle: 'With improved practices', color: 'reseda-green' }
                    ]
                }
            },
            'Milk': {
                stages: [
                    {
                        title: 'Animal Husbandry',
                        description: 'Breeding, feeding, and health management',
                        icon: 'M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z',
                        position: { top: 50, left: 100 },
                        tooltip: {
                            title: 'Animal Husbandry Details',
                            content: 'Dairy animals include buffalo, cows, goats, and camels. Proper breeding improves yield. Balanced nutrition and health management essential.',
                            stats: [
                                'Buffalo: 60% of production',
                                'Cows: 35% of production',
                                'Average Yield: 8-12 liters/day',
                                'Breeding Programs: Genetic improvement'
                            ]
                        },
                        bottleneck: 'Feed quality and availability, disease outbreaks, genetic improvement'
                    },
                    {
                        title: 'Feed Management',
                        description: 'Providing balanced nutrition',
                        icon: 'M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z',
                        position: { top: 50, left: 300 },
                        tooltip: {
                            title: 'Feed Management Details',
                            content: 'Balanced rations include green fodder, dry fodder, and concentrates. Silage preserves fodder. Mineral supplements ensure health.',
                            stats: [
                                'Green Fodder: 40-50 kg/day',
                                'Dry Fodder: 8-10 kg/day',
                                'Concentrate: 3-5 kg/day',
                                'Silage: Preservation method'
                            ]
                        },
                        bottleneck: 'Seasonal fodder shortage, high feed costs, nutritional imbalances'
                    },
                    {
                        title: 'Milking',
                        description: 'Hygienic milk extraction',
                        icon: 'M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10',
                        position: { top: 50, left: 500 },
                        tooltip: {
                            title: 'Milking Details',
                            content: 'Hygienic practices ensure quality and safety. Machine milking increases efficiency. Proper udder preparation and post-milking care essential.',
                            stats: [
                                'Milking Frequency: 2-3 times/day',
                                'Machine Milking: 30% of farms',
                                'Hygiene: Critical for quality',
                                'Udder Health: Regular monitoring'
                            ]
                        },
                        bottleneck: 'Hygiene practices, equipment costs, skilled labor shortage'
                    },
                    {
                        title: 'Cooling & Storage',
                        description: 'Rapid cooling to maintain quality',
                        icon: 'M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z',
                        position: { top: 50, left: 700 },
                        tooltip: {
                            title: 'Cooling & Storage Details',
                            content: 'Immediate cooling to 4°C prevents bacterial growth. Bulk cooling tanks at collection centers. Cold chain maintenance critical.',
                            stats: [
                                'Cooling Temperature: 4°C',
                                'Cooling Time: Within 2 hours',
                                'Storage: 24-48 hours maximum',
                                'Cold Chain: Critical'
                            ]
                        },
                        bottleneck: 'Power supply reliability, cooling infrastructure, energy costs'
                    },
                    {
                        title: 'Collection',
                        description: 'Gathering milk from farms',
                        icon: 'M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4',
                        position: { top: 180, left: 850 },
                        tooltip: {
                            title: 'Collection Details',
                            content: 'Organized routes ensure timely pickup. Insulated tankers maintain cold chain. Quality testing at collection points.',
                            stats: [
                                'Collection: Daily or twice daily',
                                'Transport: 10-50 km',
                                'Quality Testing: Fat, SNF, adulteration',
                                'Route Optimization: Critical'
                            ]
                        },
                        bottleneck: 'Route efficiency, quality control, transport infrastructure'
                    },
                    {
                        title: 'Quality Testing',
                        description: 'Laboratory testing for composition',
                        icon: 'M7 11.5V14m0-2.5v-6a1.5 1.5 0 113 0m-3 6a1.5 1.5 0 00-3 0v2a7.5 7.5 0 0015 0v-5a1.5 1.5 0 00-3 0m-6-3V11m0-5.5v-1a1.5 1.5 0 113 0v1m0 0V11m0-5.5a1.5 1.5 0 113 0v3m0 0V11',
                        position: { top: 350, left: 850 },
                        tooltip: {
                            title: 'Quality Testing Details',
                            content: 'Comprehensive testing includes fat, protein, lactose, and bacterial count. Adulteration testing detects water and starch. Quality-based pricing incentivizes farmers.',
                            stats: [
                                'Fat Content: 3.5-6.5%',
                                'Protein: 3.0-4.5%',
                                'Bacterial Count: <100,000 CFU/ml',
                                'Quality Pricing: Incentive system'
                            ]
                        },
                        bottleneck: 'Testing infrastructure, equipment costs, standardization'
                    },
                    {
                        title: 'Processing',
                        description: 'Pasteurization and product manufacturing',
                        icon: 'M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z M15 12a3 3 0 11-6 0 3 3 0 016 0z',
                        position: { top: 470, left: 700 },
                        tooltip: {
                            title: 'Processing Details',
                            content: 'Pasteurization eliminates harmful bacteria. Standardization adjusts fat content. Value-added products include yogurt, cheese, and butter.',
                            stats: [
                                'Pasteurization: 72°C for 15 seconds',
                                'Capacity: 10,000-100,000 L/day',
                                'Products: 15+ dairy products',
                                'Value Addition: 200-300%'
                            ]
                        },
                        bottleneck: 'Processing capacity, energy costs, quality control'
                    },
                    {
                        title: 'Packaging',
                        description: 'Aseptic packaging for extended shelf life',
                        icon: 'M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4',
                        position: { top: 470, left: 500 },
                        tooltip: {
                            title: 'Packaging Details',
                            content: 'Aseptic packaging extends shelf life without refrigeration. Various pack sizes cater to different segments. Eco-friendly options increasingly popular.',
                            stats: [
                                'Pack Sizes: 250ml, 500ml, 1L, 5L',
                                'Shelf Life: 3-6 months (UHT)',
                                'Materials: Tetra Pak, plastic, glass',
                                'Eco-friendly: Growing trend'
                            ]
                        },
                        bottleneck: 'Packaging costs, environmental concerns, consumer preferences'
                    },
                    {
                        title: 'Distribution',
                        description: 'Cold chain distribution to retail',
                        icon: 'M9 17a2 2 0 11-4 0 2 2 0 014 0zM19 17a2 2 0 11-4 0 2 2 0 014 0z M13 16V6a1 1 0 00-1-1H4a1 1 0 00-1 1v10a1 1 0 001 1h1m8-1a1 1 0 01-1 1H9m4-1V8a1 1 0 011-1h2.586a1 1 0 01.707.293l3.414 3.414a1 1 0 01.293.707V16a1 1 0 01-1 1h-1m-6-1a1 1 0 001 1h1M5 17a2 2 0 104 0m-4 0a2 2 0 114 0m6 0a2 2 0 104 0m-4 0a2 2 0 114 0',
                        position: { top: 470, left: 300 },
                        tooltip: {
                            title: 'Distribution Details',
                            content: 'Refrigerated vehicles maintain cold chain. Regional distribution centers reduce costs. Direct-to-consumer delivery growing rapidly.',
                            stats: [
                                'Temperature: 2-8°C',
                                'Distribution: 200-500 km',
                                'Urban Coverage: 80%',
                                'Direct Delivery: Growing'
                            ]
                        },
                        bottleneck: 'Cold chain infrastructure, distribution costs, rural access'
                    },
                    {
                        title: 'Retail Sales',
                        description: 'Consumer sales through various channels',
                        icon: 'M8 14v3m4-3v3m4-3v3M3 21h18M3 10h18M3 7l9-4 9 4M4 10h16v11H4V10z',
                        position: { top: 470, left: 100 },
                        tooltip: {
                            title: 'Retail Sales Details',
                            content: 'Multiple retail channels serve different segments. Brand loyalty strong in dairy. Organic and premium products command higher prices.',
                            stats: [
                                'Supermarkets: 40%',
                                'Traditional Trade: 50%',
                                'Online Sales: 10%',
                                'Brand Loyalty: Strong'
                            ]
                        },
                        bottleneck: 'Intense brand competition, price sensitivity, quality consistency'
                    }
                ],
                overview: {
                    title: 'Milk Supply Chain Overview',
                    stats: [
                        { title: 'Pakistan Production', value: '40 Million', subtitle: 'Metric tons annually', color: 'olive-green' },
                        { title: 'Processing Rate', value: '5%', subtitle: 'Of total production', color: 'fresh-green' },
                        { title: 'Value Addition', value: '200-300%', subtitle: 'Through processing', color: 'reseda-green' }
                    ]
                }
            },
            'Mustard': {
                stages: [
                    {
                        title: 'Seed Selection',
                        description: 'Selecting high-yielding mustard varieties',
                        icon: 'M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z',
                        position: { top: 50, left: 100 },
                        tooltip: {
                            title: 'Mustard Seed Selection Details',
                            content: 'High-yielding varieties with 40-45% oil content preferred. Different varieties selected for maturity and disease resistance. Certified seeds ensure purity.',
                            stats: [
                                'Seed Rate: 3-5 kg/hectare',
                                'Oil Content: 40-45%',
                                'Germination: 85-90%',
                                'Varieties: Multiple types'
                            ]
                        },
                        bottleneck: 'Limited high-oil varieties, seed availability, quality assurance'
                    },
                    {
                        title: 'Land Preparation',
                        description: 'Soil preparation for optimal cultivation',
                        icon: 'M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z',
                        position: { top: 50, left: 300 },
                        tooltip: {
                            title: 'Land Preparation Details',
                            content: 'Well-drained soils with pH 6.0-7.5 optimal. Light tillage preserves moisture. Organic matter incorporation improves structure.',
                            stats: [
                                'Optimal pH: 6.0-7.5',
                                'Tillage: 15-20 cm depth',
                                'Organic Matter: 5-10 tons/hectare',
                                'Drainage: Important'
                            ]
                        },
                        bottleneck: 'Poor drainage, soil pH issues, organic matter costs'
                    },
                    {
                        title: 'Sowing',
                        description: 'Broadcasting or line sowing',
                        icon: 'M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10',
                        position: { top: 50, left: 500 },
                        tooltip: {
                            title: 'Sowing Details',
                            content: 'Seeds sown 1-2 cm deep in October-November. Line sowing with 30 cm row spacing preferred. Timely sowing ensures good establishment.',
                            stats: [
                                'Sowing Depth: 1-2 cm',
                                'Row Spacing: 30 cm',
                                'Sowing Time: October-November',
                                'Method: Line sowing preferred'
                            ]
                        },
                        bottleneck: 'Timing precision, sowing method, weather dependency'
                    },
                    {
                        title: 'Crop Management',
                        description: 'Minimal irrigation and pest control',
                        icon: 'M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z',
                        position: { top: 50, left: 700 },
                        tooltip: {
                            title: 'Crop Management Details',
                            content: 'Drought-tolerant but benefits from 1-2 irrigations. Aphid control critical during flowering. Balanced nutrition improves oil content.',
                            stats: [
                                'Water Requirement: 300-400 mm',
                                'Growing Period: 90-120 days',
                                'Irrigation: 1-2 times if needed',
                                'Major Pest: Aphids'
                            ]
                        },
                        bottleneck: 'Aphid outbreaks, water management, nutrient deficiencies'
                    },
                    {
                        title: 'Harvesting',
                        description: 'Harvesting when pods are mature',
                        icon: 'M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4',
                        position: { top: 180, left: 850 },
                        tooltip: {
                            title: 'Harvesting Details',
                            content: 'Harvested when pods turn brown and seeds rattle. Early morning harvesting reduces shattering. Proper timing critical for yield.',
                            stats: [
                                'Harvest Indicator: Brown pods',
                                'Harvest Time: Early morning',
                                'Yield: 1.5-2.5 tons/hectare',
                                'Shattering Loss: Minimize'
                            ]
                        },
                        bottleneck: 'Shattering losses, narrow harvest window, weather dependency'
                    },
                    {
                        title: 'Threshing',
                        description: 'Separating seeds from pods',
                        icon: 'M7 11.5V14m0-2.5v-6a1.5 1.5 0 113 0m-3 6a1.5 1.5 0 00-3 0v2a7.5 7.5 0 0015 0v-5a1.5 1.5 0 00-3 0m-6-3V11m0-5.5v-1a1.5 1.5 0 113 0v1m0 0V11m0-5.5a1.5 1.5 0 113 0v3m0 0V11',
                        position: { top: 350, left: 850 },
                        tooltip: {
                            title: 'Threshing Details',
                            content: 'Mechanical threshing separates seeds efficiently. Proper adjustment prevents damage. Winnowing removes chaff and debris.',
                            stats: [
                                'Threshing Efficiency: 95-98%',
                                'Seed Damage: <2%',
                                'Cleaning: Multiple winnowing',
                                'Quality Factor: Minimal damage'
                            ]
                        },
                        bottleneck: 'Seed damage, cleaning efficiency, equipment availability'
                    },
                    {
                        title: 'Oil Extraction',
                        description: 'Mechanical pressing or solvent extraction',
                        icon: 'M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z M15 12a3 3 0 11-6 0 3 3 0 016 0z',
                        position: { top: 470, left: 700 },
                        tooltip: {
                            title: 'Oil Extraction Details',
                            content: 'Mechanical pressing extracts 30-35% oil. Solvent extraction achieves 40-42%. Oil cake is valuable animal feed.',
                            stats: [
                                'Mechanical: 30-35%',
                                'Solvent: 40-42%',
                                'Oil Cake: 60-65% of weight',
                                'Value Addition: 300-400%'
                            ]
                        },
                        bottleneck: 'Extraction efficiency, processing capacity, quality control'
                    },
                    {
                        title: 'Oil Refining',
                        description: 'Refining crude oil for edible use',
                        icon: 'M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4',
                        position: { top: 470, left: 500 },
                        tooltip: {
                            title: 'Oil Refining Details',
                            content: 'Refining removes impurities and improves color. Degumming, neutralization, bleaching, and deodorization are key steps.',
                            stats: [
                                'Refining Recovery: 85-90%',
                                'Processing Steps: 4 main stages',
                                'Shelf Life: 12-18 months',
                                'Quality Standards: Food grade'
                            ]
                        },
                        bottleneck: 'Processing costs, quality standardization, energy requirements'
                    },
                    {
                        title: 'Packaging',
                        description: 'Packaging oil in various sizes',
                        icon: 'M9 17a2 2 0 11-4 0 2 2 0 014 0zM19 17a2 2 0 11-4 0 2 2 0 014 0z M13 16V6a1 1 0 00-1-1H4a1 1 0 00-1 1v10a1 1 0 001 1h1m8-1a1 1 0 01-1 1H9m4-1V8a1 1 0 011-1h2.586a1 1 0 01.707.293l3.414 3.414a1 1 0 01.293.707V16a1 1 0 01-1 1h-1m-6-1a1 1 0 001 1h1M5 17a2 2 0 104 0m-4 0a2 2 0 114 0m6 0a2 2 0 104 0m-4 0a2 2 0 114 0',
                        position: { top: 470, left: 300 },
                        tooltip: {
                            title: 'Packaging Details',
                            content: 'Various pack sizes cater to different markets. PET bottles and tin containers common. Nitrogen flushing prevents oxidation.',
                            stats: [
                                'Pack Sizes: 250ml, 500ml, 1L, 5L',
                                'Materials: PET, tin, glass',
                                'Shelf Life: 12-18 months',
                                'Oxidation Prevention: Critical'
                            ]
                        },
                        bottleneck: 'Packaging costs, oxidation control, market segmentation'
                    },
                    {
                        title: 'Marketing',
                        description: 'Distribution through wholesale and retail',
                        icon: 'M8 14v3m4-3v3m4-3v3M3 21h18M3 10h18M3 7l9-4 9 4M4 10h16v11H4V10z',
                        position: { top: 470, left: 100 },
                        tooltip: {
                            title: 'Marketing Details',
                            content: 'Mustard oil competes with other edible oils. Health benefits and traditional use drive demand. Premium positioning for cold-pressed oil.',
                            stats: [
                                'Market Share: 15% of edible oils',
                                'Health Premium: 20-30%',
                                'Traditional Use: High in north',
                                'Cold-pressed: Premium segment'
                            ]
                        },
                        bottleneck: 'Competition from other oils, health regulations, price competitiveness'
                    }
                ],
                overview: {
                    title: 'Mustard Supply Chain Overview',
                    stats: [
                        { title: 'Pakistan Production', value: '200 Thousand', subtitle: 'Metric tons annually', color: 'olive-green' },
                        { title: 'Oil Content', value: '40-45%', subtitle: 'High oil yield', color: 'fresh-green' },
                        { title: 'Value Addition', value: '300-400%', subtitle: 'Through oil extraction', color: 'reseda-green' }
                    ]
                }
            },
            'Banana': {
                stages: [
                    {
                        title: 'Plantation Establishment',
                        description: 'Establishing banana plantations',
                        icon: 'M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z',
                        position: { top: 50, left: 100 },
                        tooltip: {
                            title: 'Banana Plantation Establishment Details',
                            content: 'Tissue culture plants ensure disease-free material. Different varieties selected for market demand. Proper spacing optimizes yield and management.',
                            stats: [
                                'Plant Spacing: 2m x 2m to 3m x 3m',
                                'Plants per hectare: 1,100-2,500',
                                'Productive Life: 15-20 years',
                                'Tissue Culture: Disease-free'
                            ]
                        },
                        bottleneck: 'High-quality planting material, variety selection, establishment costs'
                    },
                    {
                        title: 'Crop Management',
                        description: 'Irrigation, fertilization, and pest control',
                        icon: 'M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z',
                        position: { top: 50, left: 300 },
                        tooltip: {
                            title: 'Crop Management Details',
                            content: 'Bananas require consistent moisture and high fertility. Drip irrigation provides efficient water management. IPM controls nematodes and weevils.',
                            stats: [
                                'Water Requirement: 1500-2000 mm/year',
                                'Fertilizer: Monthly applications',
                                'Pest Management: IPM approach',
                                'Mulching: Recommended'
                            ]
                        },
                        bottleneck: 'High water requirements, disease pressure, nutrient management'
                    },
                    {
                        title: 'Bunch Development',
                        description: 'Managing flowering and fruit development',
                        icon: 'M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10',
                        position: { top: 50, left: 500 },
                        tooltip: {
                            title: 'Bunch Development Details',
                            content: 'Plants flower 8-12 months after planting. Bunch covers protect developing fruits. Proper management ensures uniform development.',
                            stats: [
                                'Flowering: 8-12 months',
                                'Bunch Development: 3-4 months',
                                'Hands per Bunch: 8-12',
                                'Bunch Covers: Protection'
                            ]
                        },
                        bottleneck: 'Weather protection, uniform development, labor for management'
                    },
                    {
                        title: 'Harvesting',
                        description: 'Harvesting bunches at optimal maturity',
                        icon: 'M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z',
                        position: { top: 50, left: 700 },
                        tooltip: {
                            title: 'Harvesting Details',
                            content: 'Harvested at 75-80% maturity for distant markets. Local markets at 85-90% maturity. Careful handling prevents bruising.',
                            stats: [
                                'Export Maturity: 75-80%',
                                'Local Market: 85-90%',
                                'Harvest: Year-round',
                                'Handling: Very careful'
                            ]
                        },
                        bottleneck: 'Maturity assessment, handling care, market timing'
                    },
                    {
                        title: 'Post-Harvest Handling',
                        description: 'Washing, grading, and initial processing',
                        icon: 'M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4',
                        position: { top: 180, left: 850 },
                        tooltip: {
                            title: 'Post-Harvest Handling Details',
                            content: 'Bunches washed to remove latex and dirt. Hands separated and graded by size. Proper handling prevents damage.',
                            stats: [
                                'Washing: Removes latex',
                                'Grading: 4-5 categories',
                                'Quality Standards: Export vs domestic',
                                'Latex Removal: Critical'
                            ]
                        },
                        bottleneck: 'Latex removal, grading precision, damage prevention'
                    },
                    {
                        title: 'Ripening Control',
                        description: 'Controlled ripening for market requirements',
                        icon: 'M7 11.5V14m0-2.5v-6a1.5 1.5 0 113 0m-3 6a1.5 1.5 0 00-3 0v2a7.5 7.5 0 0015 0v-5a1.5 1.5 0 00-3 0m-6-3V11m0-5.5v-1a1.5 1.5 0 113 0v1m0 0V11m0-5.5a1.5 1.5 0 113 0v3m0 0V11',
                        position: { top: 350, left: 850 },
                        tooltip: {
                            title: 'Ripening Control Details',
                            content: 'Ethylene gas triggers uniform ripening. Temperature and humidity control ensure optimal ripening. Different stages suit different markets.',
                            stats: [
                                'Ripening Time: 3-7 days',
                                'Temperature: 18-20°C',
                                'Ethylene: 100-1000 ppm',
                                'Uniform Ripening: Critical'
                            ]
                        },
                        bottleneck: 'Ripening infrastructure, temperature control, timing coordination'
                    },
                    {
                        title: 'Packaging',
                        description: 'Consumer packaging for retail and export',
                        icon: 'M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z M15 12a3 3 0 11-6 0 3 3 0 016 0z',
                        position: { top: 470, left: 700 },
                        tooltip: {
                            title: 'Packaging Details',
                            content: 'Export bananas packed in corrugated boxes with cushioning. Retail packaging includes bags and trays. Branding adds value.',
                            stats: [
                                'Export: 13-18 kg boxes',
                                'Retail: 1-2 kg units',
                                'Cushioning: Prevents damage',
                                'Branding: Value addition'
                            ]
                        },
                        bottleneck: 'Packaging costs, damage prevention, brand development'
                    },
                    {
                        title: 'Cold Storage',
                        description: 'Temperature-controlled storage',
                        icon: 'M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4',
                        position: { top: 470, left: 500 },
                        tooltip: {
                            title: 'Cold Storage Details',
                            content: 'Storage at 13-15°C extends shelf life without chilling injury. Controlled atmosphere storage improves quality. Proper humidity prevents moisture loss.',
                            stats: [
                                'Temperature: 13-15°C',
                                'Humidity: 85-90%',
                                'Shelf Life: 2-4 weeks',
                                'Chilling Injury: Avoid'
                            ]
                        },
                        bottleneck: 'Temperature precision, humidity control, chilling injury prevention'
                    },
                    {
                        title: 'Distribution',
                        description: 'Transportation to domestic and export markets',
                        icon: 'M9 17a2 2 0 11-4 0 2 2 0 014 0zM19 17a2 2 0 11-4 0 2 2 0 014 0z M13 16V6a1 1 0 00-1-1H4a1 1 0 00-1 1v10a1 1 0 001 1h1m8-1a1 1 0 01-1 1H9m4-1V8a1 1 0 011-1h2.586a1 1 0 01.707.293l3.414 3.414a1 1 0 01.293.707V16a1 1 0 01-1 1h-1m-6-1a1 1 0 001 1h1M5 17a2 2 0 104 0m-4 0a2 2 0 114 0m6 0a2 2 0 104 0m-4 0a2 2 0 114 0',
                        position: { top: 470, left: 300 },
                        tooltip: {
                            title: 'Distribution Details',
                            content: 'Refrigerated transport maintains cold chain. Regional distribution centers reduce costs. Export markets require phytosanitary certificates.',
                            stats: [
                                'Transport: 13-15°C',
                                'Distribution: 500-2000 km',
                                'Export Markets: Middle East',
                                'Documentation: Required'
                            ]
                        },
                        bottleneck: 'Cold chain infrastructure, transport costs, export documentation'
                    },
                    {
                        title: 'Retail Sales',
                        description: 'Consumer sales through various channels',
                        icon: 'M8 14v3m4-3v3m4-3v3M3 21h18M3 10h18M3 7l9-4 9 4M4 10h16v11H4V10z',
                        position: { top: 470, left: 100 },
                        tooltip: {
                            title: 'Retail Sales Details',
                            content: 'Multiple retail channels serve different segments. Organic bananas command premium. Value-added products include chips and puree.',
                            stats: [
                                'Fresh Market: 90%',
                                'Processing: 10%',
                                'Organic Premium: 30-50%',
                                'Value Addition: Chips, puree'
                            ]
                        },
                        bottleneck: 'Quality perception, price competition, limited processing'
                    }
                ],
                overview: {
                    title: 'Banana Supply Chain Overview',
                    stats: [
                        { title: 'Pakistan Production', value: '150 Thousand', subtitle: 'Metric tons annually', color: 'olive-green' },
                        { title: 'Nutritional Value', value: 'High Potassium', subtitle: 'Rich in vitamins', color: 'fresh-green' },
                        { title: 'Export Potential', value: '$30 Million', subtitle: 'Annual export opportunity', color: 'reseda-green' }
                    ]
                }
            }
        };
    </script>

    <script id="product-interactions">
        function showSupplyChainView(button) {
            const productName = button.getAttribute('data-product');
            const modal = document.getElementById('supplyChainModal');
            const modalTitle = document.getElementById('modalTitle');
            modalTitle.textContent = `${productName} Supply Chain Map`;
            modal.classList.remove('hidden');
            document.body.style.overflow = 'hidden';

            // Generate supply chain content for the specific product
            generateSupplyChainContent(productName);

            // Initialize the supply chain functionality
            initializeSupplyChain();
        }

        function generateSupplyChainContent(productName) {
            const container = document.getElementById('supplyChainContainer');
            const overviewContainer = document.getElementById('productOverview');
            const productData = supplyChainData[productName];
            const colors = productColors[productName] || productColors['Apple'];

            if (!productData) {
                container.innerHTML = '<p class="text-reseda-green">Supply chain data not available for this product.</p>';
                overviewContainer.innerHTML = '<p class="text-reseda-green">Overview data not available for this product.</p>';
                return;
            }
            let stagesHTML = '';
            productData.stages.forEach((stage, index) => {
                const tooltipPosition = stage.position.top > 300 ? 'top: auto; bottom: 100%;' : 'top: 100%;';

                stagesHTML += `
        <div class="stage-node" style="top: ${stage.position.top}px; left: ${stage.position.left}px;">
            <div class="stage-icon" style="background-color: ${colors.background};">
                ${stage.icon.endsWith(".png") || stage.icon.endsWith(".jpg")
                        ? `<img src="${stage.icon}" alt="${stage.title} icon" class="h-12 w-12" />`
                        : `<svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="${stage.icon}" />
                    </svg>`}
                <div class="stage-number" style="background-color: ${colors.stageIconBg};">${index + 1}</div>
            </div>
            <div class="stage-title" style="background-color: ${colors.titleBackground};">${stage.title}</div>
            <div class="stage-description">${stage.description}</div>

            <!-- Tooltips must be inside stage-node -->
            <div class="tooltip stage-tooltip" style="${tooltipPosition} left: 50%; transform: translateX(-50%); background-color: ${colors.tooltipBackground}; color: ${colors.tooltipText};">
                <div class="tooltip-title">${stage.tooltip.title || stage.title + ' Details'}</div>
                <div class="tooltip-content">${stage.tooltip.content}</div>
                <div class="tooltip-stats">
                    ${stage.tooltip.stats.map(stat => `<div>${stat}</div>`).join('')}
                </div>
            </div>

            <div class="bottleneck-tooltip stage-tooltip" style="${tooltipPosition} left: 50%; transform: translateX(-50%);">
                <div class="bottleneck-title">${stage.title} Bottlenecks</div>
                <div class="bottleneck-content">${stage.bottleneck}</div>
            </div>

            <div class="quote-tooltip stage-tooltip" style="${tooltipPosition} left: 50%; transform: translateX(-50%);">
                <div class="quote-title">Quote</div>
                <div class="quote-content">"${stage.quote || '—'}"</div>
            </div>
        </div>
    `;
            });


            //         let stagesHTML = '';
            //         productData.stages.forEach((stage, index) => {
            //             const tooltipPosition = stage.position.top > 300 ? 'top: auto; bottom: 100%;' : 'top: 100%;';

            //             stagesHTML += `
            //                 <div class="stage-node" style="top: ${stage.position.top}px; left: ${stage.position.left}px;">
            //     <div class="stage-icon" style="background-color: ${colors.background};">
            //         ${stage.icon.endsWith(".png") || stage.icon.endsWith(".jpg")
            //                     ? `<img src="${stage.icon}" alt="${stage.title} icon" class="h-12 w-12" />`
            //                     : `<svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            //                         <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="${stage.icon}" />
            //                    </svg>`
            //                 }
            //         <div class="stage-number" style="background-color: ${colors.stageIconBg};">${index + 1}</div>
            //     </div>
            //     <div class="stage-title" style="background-color: ${colors.titleBackground};">${stage.title}</div>
            //     <div class="stage-description">${stage.description}</div>
            // </div>


            //                     <!-- Normal tooltip -->
            //                     <div class="tooltip stage-tooltip" style="${tooltipPosition} left: 50%; transform: translateX(-50%); background-color: ${colors.tooltipBackground}; color: ${colors.tooltipText};">
            //                         <div class="tooltip-title">${stage.tooltip.title || stage.title + ' Details'}</div>
            //                         <div class="tooltip-content">${stage.tooltip.content}</div>
            //                         <div class="tooltip-stats">
            //                             ${stage.tooltip.stats.map(stat => `<div>${stat}</div>`).join('')}
            //                         </div>
            //                     </div>

            //                     <!-- Bottleneck tooltip -->
            //                     <div class="bottleneck-tooltip stage-tooltip" style="${tooltipPosition} left: 50%; transform: translateX(-50%);">
            //                         <div class="bottleneck-title">${stage.title} Bottlenecks</div>
            //                         <div class="bottleneck-content">${stage.bottleneck}</div>
            //                     </div>

            //                     <!-- Quote tooltip -->
            //                     <div class="quote-toggle">
            //                         <div class="quote-tooltip stage-tooltip" style="${tooltipPosition} left: 50%; transform: translateX(-50%);">
            //                             <div class="quote-title">${stage.title} - Field Insights</div>
            //                             <div class="quote-content">${stage.quote || 'No field insights available for this stage.'}</div>
            //                         </div>
            //                     </div>
            //                 </div>
            //             `;
            //         });

            container.innerHTML = stagesHTML;

            const colorClasses = {
                'olive-green': 'bg-alabaster border-l-4 border-olive-green',
                'fresh-green': 'bg-alabaster border-l-4 border-olive-green',
                'reseda-green': 'bg-alabaster border-l-4 border-olive-green'
            };

            const overviewHTML = `
                <h4 class="text-xl font-bold text-olive-green mb-4 font-poppins">${productData.overview.title}</h4>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    ${productData.overview.stats.map(stat => `
                        <div class="${colorClasses[stat.color]} p-4 rounded-md">
                            <h5 class="font-semibold text-olive-green font-poppins">${stat.title}</h5>
                            <p class="text-xl font-bold text-olive-green font-poppins">${stat.value}</p>
                            <p class="text-sm text-reseda-green font-open-sans">${stat.subtitle}</p>
                        </div>
                    `).join('')}
                </div>
            `;

            overviewContainer.innerHTML = overviewHTML;
        }

        function closeSupplyChainView() {
            const modal = document.getElementById('supplyChainModal');
            modal.classList.add('hidden');
            document.body.style.overflow = '';
        }

        function initializeSupplyChain() {
            const toggleBottlenecksButton = document.getElementById('toggleBottlenecks');
            const toggleQuotesButton = document.getElementById('toggleQuotes');
            const normalTooltips = document.querySelectorAll('.tooltip');
            const bottleneckTooltips = document.querySelectorAll('.bottleneck-tooltip');
            const quoteTooltips = document.querySelectorAll('.quote-tooltip');
            const warningIcons = document.querySelectorAll('.warning-icon');

            let currentMode = 'normal';

            function setNormalMode() {
                currentMode = 'normal';
                normalTooltips.forEach(t => t.style.display = 'block');
                bottleneckTooltips.forEach(t => t.style.display = 'none');
                quoteTooltips.forEach(t => t.style.display = 'none');
                warningIcons.forEach(i => i.style.display = 'none');

                if (toggleBottlenecksButton) {
                    toggleBottlenecksButton.textContent = 'Show Bottlenecks';
                    toggleBottlenecksButton.classList.remove('active');
                }
                if (toggleQuotesButton) {
                    toggleQuotesButton.textContent = 'Show Quotes';
                    toggleQuotesButton.classList.remove('active');
                }
            }

            function setBottleneckMode() {
                currentMode = 'bottlenecks';
                normalTooltips.forEach(t => t.style.display = 'none');
                bottleneckTooltips.forEach(t => t.style.display = 'block');
                quoteTooltips.forEach(t => t.style.display = 'none');
                warningIcons.forEach(i => i.style.display = 'flex');

                if (toggleBottlenecksButton) {
                    toggleBottlenecksButton.textContent = 'Hide Bottlenecks'; // ✅ updated
                    toggleBottlenecksButton.classList.add('active');
                }
                if (toggleQuotesButton) {
                    toggleQuotesButton.textContent = 'Show Quotes';
                    toggleQuotesButton.classList.remove('active');
                }
            }

            function setQuoteMode() {
                currentMode = 'quotes';
                normalTooltips.forEach(t => t.style.display = 'none');
                bottleneckTooltips.forEach(t => t.style.display = 'none');
                quoteTooltips.forEach(t => t.style.display = 'block');
                warningIcons.forEach(i => i.style.display = 'none');

                if (toggleBottlenecksButton) {
                    toggleBottlenecksButton.textContent = 'Show Bottlenecks';
                    toggleBottlenecksButton.classList.remove('active');
                }
                if (toggleQuotesButton) {
                    toggleQuotesButton.textContent = 'Hide Quotes'; // ✅ updated
                    toggleQuotesButton.classList.add('active');
                }
            }

            // initialize to normal
            setNormalMode();

            // ✅ attach listeners directly (no cloneNode)
            if (toggleBottlenecksButton) {
                toggleBottlenecksButton.addEventListener('click', () => {
                    if (currentMode === 'bottlenecks') {
                        setNormalMode();
                    } else {
                        setBottleneckMode();
                    }
                });
            }

            if (toggleQuotesButton) {
                toggleQuotesButton.addEventListener('click', () => {
                    if (currentMode === 'quotes') {
                        setNormalMode();
                    } else {
                        setQuoteMode();
                    }
                });
            }
        }
    </script>
</body>

</html>
